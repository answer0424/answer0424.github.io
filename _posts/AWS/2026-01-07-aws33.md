---
layout: post
title: Systems Manager 퍼블릭 파라미터
date: 2026-01-07 09:00:00 +09:00
categories: [AWS, EC2, AMI]
tags: [aws]
image:
    path: /assets/img/aws/AWS.png
---

## 핵심 개념

- 퍼블릭 파라미터는 AWS가 공식적으로 유지/관리하는 파라미터
- 이 파라미터들은 AMI ID를 값으로 가지고 있으며, 항상 최신 버전의 AMI를 가리키도록 관리됨
- 이를 통해 리전 별로 일관된 최신 AMI ID를 자동으로 참조할 수 있음

<hr>

## 퍼블릭 파라미터 경로

#### Linux (Amazon Linux)

```bash
/aws/service/ami-amazon-linux-latest
```

> 이 경로에는 Amazon Linux 2, Amazon Linux 2023 등 다양한 Linux AMI에 대한 최신 퍼블릭 파라미터가 포함됨


<br>

#### Windows

```bash
/aws/service/ami-windows-latest
```

> 이 경로에는 Windows Server의 최신 공식 AMI를 참조하는 파라미터가 포함됨

<hr>

## CLI/PowerShell로 퍼블릭 파라미터 통해 AMI 이름 나열

#### AWS CLI

- Linux AMI 이름 나열

```bash
aws ssm get-parameters-by-path \
    --path /aws/service/ami-amazon-linux-latest \
    --query "Parameters[].Name"
```

<br>

- Windows AMI 이름 나열

```bash
aws ssm get-parameters-by-path \
    --path /aws/service/ami-windows-latest \
    --query "Parameters[].Name"
```

<br>

#### PowerShell

- Linux

```powershell
Get-SSMParametersByPath `
    -Path "/aws/service/ami-amazon-linux-latest" |
    Sort-Object Name |
    Format-Table Name
```

<br>

- Windows

```powershell
Get-SSMParametersByPath `
    -Path "/aws/service/ami-windows-latest" |
    Sort-Object Name |
    Format-Table Name
```

<hr>

## 퍼블릭 파라미터를 사용하여 인스턴스 시작

#### AWS CLI 예시 - Linux

```bash
aws ec2 run-instances \
    --image-id resolve:ssm:/aws/service/ami-amazon-linux-latest/al2023-ami-kernel-default-x86_64 \
    --instance-type t3.micro ...
```

<br>

#### Windows 예시

```powershell
New-EC2Instance -ImageId "resolve:ssm:/aws/service/ami-windows-latest/Windows_Server-2022-English-Full-Base" ...
```

<hr>

## 사용하는 이유

#### 1. 항상 최신 AMI 사용

- 퍼블릭 파라미터는 AWS에서 유지보수되므로, 최신 패치/보안 업데이트가 적용된 AMI ID로 자동 매핑됨
- 즉, 파라미터 이름만 고정해두면 AMI ID가 갱신되어도 계속 최신 이미지로 인스턴스를 시작할 수 있음