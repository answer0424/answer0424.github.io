---
layout: post
title: AMI 사용 보기
date: 2026-01-22 09:00:00 +09:00
categories: [AWS, EC2, AMI, Using view]
tags: [aws]
image:
    path: /assets/img/aws/AWS.png
---

## AMI 사용 보고서

- 어떤 AWS 계정이 AMI를 사용하고 있는지
- 각 계정에서 AMI를 참조하는 리소스 수

- EC2 인스턴스
- 시작 템플릿

---

## 작동 원리

- 보고할 AMI ID
- 확인할 AWS 계정
- 확인핳 리소스 유형

--- 

## 사용보고서 생성

1. EC2 콘솔 또는 CLI/SDK에서 AMI 사용보고서 생성
2. EC2 콘솔:
   - AMI 선택 ➡️ 내 AMI 사용 ➡️ 보고서 생성
3. AWS CLI:

```bash
aws ec2 create-image-usage-report \
  --image-id ami-0abcdef1234567890 \
  --resource-types ResourceType=ec2:Instance \
    'ResourceType=ec2:LaunchTemplate,ResourceTypeOptions=[{OptionName=version-depth,OptionValues=100}]'
```

---

## 보고서 보기 & 다운로드

> 생성된 보고서는 EC2 콘솔 또는 CLI로 확인 가능
>
> 보고서는 생성 후 30일 경과하면 자동 삭제되므로 필요하면 다운로드하여 로컬에 저장해야 함

- 보고서 상태
  - pending(대기)
  - available/Completed(완료)


---

## 보고서 삭제

- 자동삭제: 생성 후 30일 경과 시
- 수동삭제: 필요 시 EC2 콘솔/API/CLI로 삭제 가능

---

## 할당량 (쿼터)

| 항목 | 할당량 |
|-|-|
| 진행 중인 사용 보고서 수 (계정별)| 2000 |
| 진행 중인 사용 보고서 수 (AMI별) | 1 |

> 즉 AMI 하나당 한 번에 하나의 사용 보고서만 생성 가능하며, 계정 전체로는 최대 2000개의 보고서를 동시에 만들 수 있음







## 활용 예시

- AMI를 안전하게 등록 취소
  - 아직 어떤 계정/리소스에서 참조 중인지 확인
- 스토리지 비용 절감
  - 사용되지 않는 AMI를 파악하여 등록 취소
- 가장 많이 사용되는 AMI 식별
  - AMI 유지/관리 전략 수립
- 규정 준수 점검
  - AMI가 올바른 계정/워크로드에서 사용되는지 확인