---
layout: post
title: Amazon EC2 AMI 비활성화
date: 2026-01-23 09:00:00 +09:00
categories: [AWS, EC2, AMI]
tags: [aws]
image:
    path: /assets/img/aws/AWS.png
---

## 비활성화란 무엇인가?

- AMI의 상태가 `disabled`로 바뀜
- 이후 새 인스턴스 시작이 불가능해짐
- AMI가 퍼블릭 또는 공유 상태였으면 프라이빗 상태로 전환됨
- AMI의 시작 권한이 모두 제거됨

---

## 비활성화 AMI의 동작

#### 새 인스턴스 시작 제한

- 비활성화된 AMI로는 인스턴스를 시작할 수 없음
  - EC2 콘솔의 AMI 목록/AMI 카탈로그에 표시되지 않음
  - 시작 템플릿이나 Auto Scaling 그룹에서도 더 이상 인스턴스를 새로 시작할 수 없음

<br>

#### API/콘솔에서의 표시

- 기본적으로 `DescribeImages` 호출에 표시되지 않음
  - 비활성호된 AMI 보기 필터를 사용하면 확인할 수 있음
  - 소유자 본인만 비활성화 AMI를 볼 수 있음

<br>

#### 공유 및 가시성

- 비활성화하면 공개 또는 공유가 해제되고 프라이빗 상태가 됨
  - 다른 계정, 조직 또는 조직 단위와 공유되었을 경우 권한이 제거됨

<br>

#### 기존 인스턴스 영향 없음

- 이미 해당 AMI를 사용해 시작된 EC2 인스턴스에는 영향이 없음
  - 중지/시작/재부팅 등 정상적인 작업을 계속 수행할 수 있음

<br>

#### 스냅샷 영향

- 비활성화 AMI와 연결된 EBS 스냅샷은 삭제되지 않으며, 스냅샷 삭제를 시도하면 `snapshot is currently in use` 오류가 발생할 수 있음

---

## AMI 활성화(Re-enable)

- AMI 상태가 다시 `available`로 변경됨
- 비활성화로 제거되었던 시작 권한이 복원 가능
- 다시 공유하거나 퍼블릭으로 설정할 수 있음

---

## 조건 및 권한

- AMI를 비활성화하거나 활성화할 수 있는 사용자는 AMI 소유자에 한정됨
- IAM 권한으로는 다음이 필요
  - `ec2:DisableImage` - AMI 비활성화
  - `ec2:EnableImage` - AMI 활성화

---

## 비용 관련

- AMI를 비활성화해도 이미 존재하는 AMI/스냅샷은 삭제되지 않으므로, EBS 스냅샷 스토리지 비용은 계속 발생
- 저장 비용을 절감하려면 AMI의 등록 취소 및 불필요한 스냅샷 삭제가 필요함