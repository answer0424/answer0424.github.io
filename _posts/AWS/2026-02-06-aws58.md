---
layout: post
title: 새 EC2 인스턴스를 시작하여 새 인스턴스 유형으로 마이그레이션
date: 2026-02-06 09:00:00 +09:00
categories: [AWS, EC2, Instance]
tags: [aws]
image:
    path: /assets/img/aws/AWS.png
---

## 핵심 요약

- 일부 EC2 인스턴스는 Stop 후 인스턴스 유형 변경이 불가능
- 이 경우 AMI + 새 인스턴스 생성 방식으로 마이그레이션
- 인스턴스 저장소 데이터는 자동 이전되지 않음
- EBS 스냅샷, 볼륨 연결, Elastic IP 재연결이 핵심 작업
- 콘솔과 CLI 모두 지원

---

## 마이그레이션이 필요한 경우

- 인스턴스 저장소 기반 인스턴스
- 기존 AMI가 대상 인스턴스 유형의 아키텍처를 지원하지 않음
- 이전 세대 인스턴스 ➡️ 최신 세대 인스턴스로 변경
- 가상화 타입(HVM/PV) 불일치

---

## 전체 흐름

1. 원본 인스턴스 데이터 백업
2. 대상 AMI 선택
3. 새 인스턴스 생성
4. EBS 볼륨 복원 또는 재연결
5. 애플리케이션 설정 복구
6. Elastic IP 재연결
7. 원본 인스턴스 종료

---

## 단계별 상세 절차

#### 데이터 백업

- EBS 볼륨: 스냅샷 생성
- 인스턴스 저장소: 직접 파일 복사 필요

CLI 예시

```bash
aws ec2 create-snapshot
--volume-id vol-xxxx
--description "before-migration"
```

주의사항

- 인스턴스 저장소 데이터는 스냅샷 불가
- 반드시 서비스 데이터 사전 백업 필요