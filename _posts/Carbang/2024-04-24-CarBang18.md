---
layout: post
title: prototype (2)
date: 2025-04-24 09:00 +09:00
categoties: [carbang, week04]
tags: [carbang]
---

## showDashed

> 컬럼 리사이징 중에 사용자가 보고 있는 마우스 위치에 따라 점선 가이드 라인을 화면에 표시

- display: block
- z-index: 9999
- position: fixed
- left: event.clientX + px

➡️ 컬럼 너비를 조절할 때 현재 마우스 위치에 점선 라인을 표시하여 시각적인 안내

☑️ 사용 예시

```js
moca.showDashed(event.clientX);
```

```html
<div id="lin_dashed" style="top: 0; height: 100%; width: 1px; background: #000; display: none;"></div>
```

<br>

## hideDashed

> 컬럼 리사이징 작업이 끝났을 경우 화면에 표시된 점선 가이드 라인을 숨기고 상태를 초기화하는 함수

- 현재 리사이징 중인 컬럼 정보 초기화
- 점선 라인 숨기기

➡️ 점선 라인을 숨기고 리사이징 정보를 비워 다음 작업을 위한 준비 상태로 전환

☑️ 사용 예시

```js
document.addEventLister('mouseup', function() {
    moca.hideDashed();
});
```

<br>

## alert

> 사용자에게 경고창을 띄우는 커스텀 UI

> HTML 요소를 직접 생성하여 스타일링 가능한 모달 형태의 메시지 박스를 제공

- 메시지박스 고유 ID 생성
- 콜백 저장
- HTML 템플릿 생성
- createElement를 통해 `<div>` 요소 생성
- 생성된 `<div>` 요소에 setAttribute를 통해 id, class, text를 추가하여 화면에 렌더링

➡️ 사용자에게 메시지를 알리는 모달을 표시하고 확인을 누르면 콜백 함수가 실행

☑️ 사용 예시

```js
moca.alert("정말 삭제하시겠습니까?", function() {
    console.log("확인 버특 클릭");
});
```

<br>

## malert

> 두 개의 메시지를 출력할 수 있는 단일 페이지용 커스텀 알림창

- 고유 ID 생성
- 콜백 등록
- 메시지 박스 HTML 생성

```html
<div class="pop_msg_type1">
    <div class="pop_cont">
        <strong>_message1</strong>
        <span>_message2</strong>
    </div>
    <div class="btnbox">
        <div class="rta">
            <button ... onclick="moca.alertok(messageboxId)">확인</button>
        </div>
    </div>
</div>
```

- DOM에 추가

➡️ 두 줄의 메시지를 출력할 수 있는 간결한 커스텀 alert

☑️ 사용 예시

```js
moca.malert("시스템 알림", "처리가 완료되었습니다", function() {
    console.log("확인 클릭됨");
});
```

<br>

## mresult

> 체크 아이콘과 함께 결과 메시지를 출력하는 커스텀 알림창

- 메시지 박스 ID 생성
- 콜백 함수 등록
- 알림 HTML 구조 생성

```html

<div class="pop_msg_pb15">
    <i class="confirm"></i>
    <div class="pop_cont">
        <strong>_message1</strong>
        <span>_message2</span>
    </div>
    <button class="btn_go mt30" ...>확인</button>
</div>
```

- DOM에 알림창 삽입

➡️ 체크 아이콘, 강조된 메시지, 큰 확인 버튼을 포함하는 완료 성공 경과 메시지용 커스텀 알림창

☑️ 사용 예시

```js
moca.mresult("저장완료", "데이터가 성공적으로 저장됨", function() {
    console.log("확인 클릭됨");
});
```

<br>

## mvalid

> 유효성 검사 결과를 사용자에게 알리기 위한 메시지 박스

> 주로 입력값 누락 또는 형식 오류 안내 등 검증 실패 시 

- 메시지박스 고유 ID 생성
- 콜백 함수 등록
- HTML 메시지 박스 구성

```html
<div class="pop_msg type2">
    <div class="dfbox">_message1</div>
    <ul class="if_bx">_message2</ul>
    <p class="tip ...">_message3</p>
    <button class="btn_close">확인</button>
</div>
```

- DOM에 삽입
- 파라미터
  - _message1: 메인 메시지
  - _message2: ul에 삽입할 문자열
  - _message3: 하단 추가 설명 텍스트
  - _callback: 확인 버튼 클릭 시 실행할 함수

➡️ 유효성 검사 실패 시 여러 메시지를 목록으로 보여주고, 확인 후 콜백을 호출하는 메시지박스

☑️ 사용 예시

```js
const msg2 = "<li>이름을 입력하세요</li><li>이메일 형식이 올바르지 않습니다.</li>";
moca.mvalid("안내사항", msg2, "입력값을 재확인해주세요", function() {
    console.log("유효성 실패 메시지 확인");
});
```

<br>

## minfo

> 외부 페이지를 iframe으로 보여주는 팝업 메시지 박스

> 상세한 안내사항, 외부 콘텐츠 미리보기, 설명 페이지 연동 등에서 사용

- 메시지박스 고유 ID 생성
- 콜백 함수 등록
- iframe을 포함한 팝업 HTML 구성

```html
<div class="pop_msg type5 iframe">
    <div class="pop_cont type5">
        <iframe src='_url'></iframe>
    </div>
    <button class="btn_go">close</button>
</div>
```

- DOM에 삽입

➡️ iframe으로 외부 콘텐츠를 보여주는 안내용 팝업 박스

☑️ 사용 예시

```js
moca.minfo(null, null, function() {
    console.log("팝업 닫기 후 콜백 실행됨")
}, "https://example.com/info_page");
```

<br>

## mpopup

> 모바일 환경에 최적화된 iframe 팝업창을 보여주는 함수

> 특히 '오늘 하루 보지 않기' 기능이 포함된 알림성 팝업에 주로 사용

- 메시지박스 고유 ID 생성
- 콜백 등록
- 팝업 HTML 구성(모바일 전용 구조)

```html
<div class="pop_msg pb15 type2 mpopup iframe">
    <div class="dfbox">
        <h3>_message1</h3>
        <button class="btn_close">close</button>
    </div>
    <div class="pop_cont">
        <iframe src="_url"></iframe>
    </div>
    <div class="ftbox">
        <div class="fl">오늘 하루 보지 않기</div>
        <div class="fr">닫기</div>
    </div>
</div>
```

- 팝업을 DOM에 추가

➡️ 모바일 환경에 적합한 iframe 기반 팝업창

☑️ 사용 예시

```js
moca.mpopup(
    "공지",
    null,
    function() {console.log("팝업 닫힘");},
    "https://example.com/notice"
);
```

<br>

## mpopNotViewToday

> 오늘 하루 보지 않기 기능을 구현하는 함수로 로컬 스토리지를 활용

- 오늘 날짜를 로컬스토리지에 저장
- 팝업 닫기 함수 호출

➡️ 오늘 날짜를 LocalStorage에 저장하여 팝업 재표시를 방지하고 현재 팝업을 닫는 함수

☑️ 사용 예시

```html
<button onclick="moca.mpopNotViewToday(this, '_meesageboxId')">
    오늘 하루 보지 않기
</button>
```

<br>

## merror

> 에러 메시지를 사용자에게 표시하는 팝업

- 팝업 고유 ID 생성
- 콜백 저장
- 팝업 HTML 생성

```html
<div class ="pop_msg pb15">
    <i class="error"></i>
    <div class="pop_cont">
        <strong>_message1</strong>
        <span>_message2</span>
    </div>
    <button onclickk="moca.alertok('message_..')">확인</button>
</div>
```

- 팝업 요소 동적 생성 및 body 에 추가

☑️ 사용 예시

```js
moca.merror("오류", "다시 시도해주세요", function() {
    console.log("사용자가 에러 메시지를 확인");
});
```

<br>

## merrorBig

> 중요하거나 크리티컬한 에러 상황에서 사용

- 팝업 고유 ID 생성
- 콜백 저장
- 팝업 HTML 조립 

```html
<div class ="top_txt"><p>_message0</p></div>
<div class="c_msg">
    <i class="no"></i>
    <div class="cont">
        <strong>_message1></strong>
        <span class="dd">_message2</span>
    </div>
</div>
<button ... onclickk="moca.alertok('...')">_btnLabel</button>
```

- 모달 DOM 생성 및 삽입

☑️ 사용 예시

```js
moca.merrorBig(
    "시스템 오류",
    "일시적인 장애입니다",
    "지속 시 관리자에게 문의하세요",
    "확인",
    function() {
        console.log("에러 확인 완료");
    }
);
```

<br>

## minfoBottom

> 화면 하단에 표시되는 정보형 팝업을 띄우는 합수

- 팝업 고유 ID 생성
- 콜백 저장
- 팝업 HTML 구성
- 모달 DOM 삽입

☑️ 사용 예시

```js
moca.minfoBottom(
    "안내",
    "변경사항이 저장되었습니다",
    function() {
        console.log("안내 팝업 닫힘");
    }
);
```

<br>

## confirm

> 확인 / 취소 버튼이 있는 확인창을 보여주는 함수

- 팝업 고유 ID 생성
- 콜백 저장
- 팝업 HTML 구조

```html
<div class="moca_messagebox_modal" id="MESSAGE_..">
    <div class="moca_messagebox confirm">
        <div class="moca_messagebox_grp">
            <div class="ico"></div>
            <h2 class="moca_messagebox_title"></h2>
            <div class="moca_message">
                <p>_message</p>
            </div>
            <div class="moca_btnbox">
                <button class="moca_btn_confirm">확인</button>
                <button class="moca_btn_cancel">취소</button>
            </div>
        </div>
    </div>
</div>
```

- DOM에 삽입

☑️ 사용 예시

```js
moca.confirm("정말 삭제하시겠습니까?", function(result) {
    if(result === 'Y') {
        console.log("사용자 확인함");
    } else {
        console.log("사용자 취소함");
    }
});
```

<br>

## mconfirm

> 메시지 2줄과 커스텀 확인/취소 버튼이 있는 확인 메시지 팝업을 띄우는 함수

- 고유 ID 생성
- 콜백 함수 등록
- 버튼 라벨 처리
- HTML 생성

```html
<div class="pop_msg type1">
    <div class="pop_cont">
        <strong>_message1</strong>
        <span>_message2</span>
    </div>
    <div class="btnbox">
        <div class="rta">
            <button class="btn_df" onclick="moca.confirmyn('id', 'N')">취소</button>
            <button class="btn_df" onclick="moca.confirmyn('id', 'Y')">확인</button>
        </div>
    </div>
</div>
```

☑️ 사용 예시

```js
moca.mconfirm(
    '삭제하시겠습니까?',
    '이 작업을 되돌릴 수 없습니다',
    function(result) {
        if(result === 'Y'){
            console.log('확인됨');
        } else {
            console.log('취소됨');
        }
    },
    '아니요',
    '네'
);
```

<br>

## question

> 3개의 선택 버튼을 가지는 질문형 팝업을 띄우는 함수

- 메시지박스 고유 ID 생성
- 콜백 등록
- HTML 구성

```html
<button onclick="moca.question123('ID', '1')">m1</button>
<button onclick="moca.question123('ID', '2')">m2</button>
<button onclick="moca.question123('ID', '3')">m3</button>
```

☑️ 사용 예시

```js
moca.question(
    '이 작업을 어떻게 처리하시겠습니까?',
    function(answer) {
        if(answer === '1') console.log('1선택');
        else if(answer === '2') console.log('2선택');
        else if(answer === '3') console.log('3선택');
    },
    "임시 저장", "즉시 처리", "취소"
);
```

<br>

## error

> 에러 발생 시 사용자에게 알림을 보여주는 팝업

- 에러메시지 박스 고유 ID 생성
- 콜백 등록
- HTML 구성
- 팝업DOM 삽입

☑️ 사용 예시

```js
moca.error('서버에서 오류가 발생', function() {
    console.log('에러 팝업 닫힘 후 처리');
});
```

<br>

## suffleRandom

> 1부터 n까지의 숫자 배열을 난수로 섞은 후, 쉼표 없이 결합된 문자열로 반환하는 함수

- 배열 생성
- 배열의 값을 랜덤하게 섞기
- 결과 배열을 쉼표 없이 결합한 문장열로 반환

☑️ 사용 예시

```js
let randomStr = moca.shuffleRandom(5);
console.log(randomStr);
```

<br>

## toTwoChar

> 1자리 숫자에 앞에 0을 붙여 2자리 문자열로 만들어 반환하는 함수

- 입력된 `value` 문자열로 변환
- 길이가ㅏ 1이면 앞에 `0`을 붙임
- 변환된 값을 반환

➡️ 보통 날짜, 시간, 코드 값 등의 형식 맞춤이 필요할 때 자주 사용

☑️ 사용 예시
```js
moca.toTwoChar(3);
moca.toTwoChar(12);
```

<br>

## now

> 현재 시간 또는 전달된 날짜 객체를 기반으로 숫자만 이어붙인 문자열을 반환

- 인자가 없으면 현재 시각으로 `Date` 객체 생성
- 아래 정보를 순서대로 문자열로 이어붙임
- 위 값들을 전부 이어붙여 `nowtime`에 저장 후 반환

☑️ 사용 예시

```js
moca.now(); 
// 결과: "202504241137518123" (예시 값, 실행 시간에 따라 다름)

var customDate = new Date('2023-12-01T09:15:30.123Z');
moca.now(customDate); 
// 결과: "202312011815301233" (UTC 기준, 요일까지 포함됨)
```

<br>

## alertok

> 알림 팝업을 닫고, 해당 팝업에 연결된 콜백 함수를 실행하는 함수

- 전달받은 `messageboxId`에 해당하는 팝업 DOM 요소 제거
- 콜백이 등록되어 있다면 실행 후 제거

☑️ 사용 예시
```js
moca.alertok("처리가 완료됨", function() {
    console.log('팝업 닫힘 후 추가 동작 실행');
});
```

<br>

## confirmyn

> 해당 팝업을 닫고 연결된 콜백 함수에 선택 결과를 전달하여 실행하는 함수

- 전달받은 ID의 팝업 DOM 요소 제거
- 콜백이 등록되어 있으면 `returnValue`와 함께 실행 후 삭제

☑️ 사용 예시

```js
moca.mconfirm("삭제 하시겠습니까?", "", function(result) {
    if (result === 'Y') {
        console.log("사용자가 확인");
    } else {
        console.log("사용자가 취소");
    }
}, "취소", "삭제");
```
