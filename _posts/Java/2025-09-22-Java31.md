---
layout: post
title: Checked Exception과 Unchecked Exception
date: 2025-09-22 13:00 +09:00
categories: [Java, Exception]
tags: [java]
image: 
    path: /assets/img/java/Java.png
---

## 요약 

- Checked Exception: 컴파일 시점에 처리 여부를 강제하는 예외 복구 가능한 조건을 나타낼 때 주로 사용
- Unchecked Exception: 런타임에 발생하는 프로그래밍 오류나 복구 불가능한 오류를 나타내며 컴파일러가 처리를 강제하지 않음 ➡️ `RuntimeException` 과 그 하위 클래스

<br>

## 자바 예외 계층

```text plain
java.lang.Throwable
 ├─ java.lang.Error          // 치명적/VM 레벨 문제 (예: OutOfMemoryError) — catch 하지 않는 것이 일반적
 └─ java.lang.Exception
     ├─ java.lang.RuntimeException   // Unchecked (비검사)
     └─ (기타 Exception)             // Checked (검사)
```

- 즉, `RuntimeException`과 `Error`의 모든 하위 클래스는 unchecked
- `Exception`에서 `RuntimeException`을 제외한 나머지는 checked

<br>

## 컴파일러/런타임 동작 차이

- Checked Exception
  - 메서드에서 발생 가능한 checked exception을 처리하지 않으면 컴파일 오류
  - 반드시 `try-catch`로 잡거나 `throws`로 선언하여 호출자에게 전가해야 함
- Unchecked Exception
  - 컴파일러 처리 여부를 강제하지 않음, 필요하면 잡아 처리할 수 있음
  - 보통 프로그래밍 실수를 나타냄

<br>

## 예제 코드

> Checked Exception 예시

```java
import java.io.*;

public class CheckedExcpetion {
    // throws를 선언하지 않으면 컴파일 에러
    public static String readFirstLine(File f) throws IOException {
        try (BufferedReader br = new BufferedReader(new FileReader(f))) {
            return br.readLine();
        }
    }
    public static void main(String[] args) {
        File f = new File("no-such-file.txt");
        try {
            String line = readFirstLine(f);
            System.out.println(line);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

<br>

> Unchecked Exception 예시

```java
public class UncheckedException {
    public static int divide(int a, int b) {
        if (b == 0) throw new IllegalArgumentException("b cannot be zero");
        return a / b;
    }

    public static void main(String[] args) {
        System.out.println(divide(10, 2)); // 5
        System.out.println(divide(10, 0)); // 컴파일은 되지만 실행 시 예외 발생
    }
}
```

<br>

> 사용자 정의 예외

```java
// Checked
public class MyCheckedException extends Exception {
    public MyCheckedException(String msg) { super(msg); }
}

// Unchecked
public class MyUncheckedException extends RuntimeException {
    public MyUncheckedException(String msg) { super(msg); }
}
```

<br>

## 핵심 차이점 정리

- 강제 처리 여부: Checked = 컴파일 시 강제 / Unchecked = 강제 아님
- 대표 예: Checked = `IOException`, `SQLException` / Unchecked = `NullPointerException`, `IllegalArgumentException`, `IndexOutOfBoundsException`
- 사용 의도: Checked = 회복 가능한 조건 쵸기 / Unchecked = 프로그래밍 오류 또는 불변 위반
- 선언: Checked는 메서드 시그니처에 `throws` 가능
- 런타임 비용: 둘 다 비용은 유사하나 설계, 가도록 영향이 더 큼