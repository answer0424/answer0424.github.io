---
layout: post
title: 컴포넌트에 props 전달하기
date: 2025-08-04 09:00 +09:00
categories: [React_re, UI expression]
tags: [react]
image:
    path: /assets/img/react/React.png
---

> React 컴포넌트는 props를 이용해 서로 통신
>
> 모든 부모 컴포넌트는 props를 줌으로써 몇몇의 정보를 자식 컴포넌트에게 전달할 수 있음
>
> props는 HTML 어트리뷰트를 생각나게 할 수도 있지만, 객체, 배열, 함수를 포함한 모든 JavaScript 값을 전달할 수 있음

<br>

## 친숙한 props

- props는 JSX 태그에 전달하는 정보
- 예를 들어 `className`, `src`, `alt`, `width`, `height`는 `<img>` 태그에 전달할 수 있음

```jsx
function Avatar() {
    return (
        <img
            className="avatar"
            src="https://i.imgur.com/1bX5QH6.jpg"
            alt="Lin Lanying"
            width={100}
            height={100}
        />
    );
}

export default function Profile() {
    return (
        <Avatar />
    );
}
```
{: file="App.js" }

<br>

## 컴포넌트에 props 전달하기

- 아래 코드에서 `Profile` 컴포넌트는 자식 컴포넌트인 `Avatar`에 어떠한 props를 전달하지 않음

```jsx
export default function Profile() {
    return (
        <Avatar />
    );
}
```

- 다음 두 단계에 걸쳐 `Avatar`에 props를 전달할 수 있음
  
<br>

#### 1단계: 자식 컴포넌트에 props 전달하기

- 먼저 `Avatar`에 몇몇 props를 전달
- `person`과 `size`를 전달

```jsx
export default function Profile() {
    return (
        <Avatar
            persion={{name;'Lin Lanying', imageId: '1bX5QH6'}}
            size={100}
        />
    );
}
```

> `person=` 뒤에 이중 괄호가 혼란스럽다면, [JSX 중괄호 안의 객체](https://ko.react.dev/learn/javascript-in-jsx-with-curly-braces#using-double-curlies-css-and-other-objects-in-jsx)라고 기억

#### 2단계: 자식 컴포넌트 내부에서 props 읽기

- 이러한 props는 `function Avatar` 바로 뒤에 있는 `({`와 `})`안에 그들의 이름인 `person, size`등을 쉼표로 구분함으로써 읽을 수 있음

```jsx
function Avatar({ person, size }) {
    // person과 size는 이곳에서 사용 가능
}
```
- `Avatar`에 렌더링을 위해 `person` 과 `size` props를 사용하는 로직을 추가하면 완료

```jsx
import { getImageUrl } from './utils.js';

function Avatar({ person, size }) {
    return (
        <img 
            className="avatar"
            src={getImageUrl(person)}
            alt={person.name}
            width={size}
            height={size}
        />
    );
}

export default function Profile() {
    return (
        <>
            <Avatar 
                size={100}
                person={{
                    name: 'Katsuko Saruhashi',
                    imageId: 'YfeOqp2'
                }}
            />
            <Avatar
                size={80}
                person={{
                name: 'Aklilu Lemma',
                imageId: 'OKS67lh'
                }}
            />
            <Avatar
                size={50}
                person={{
                name: 'Lin Lanying',
                imageId: '1bX5QH6'
                }}
            />
        </>
    );
}
```
{: file='App.js'}

```jsx
export function getImageUrl(person, size= 's') {
    return (
        'https://i.imgur.com/' +
        person.imageId +
        size + 
        '.jpg'
    );
}
```
{: file='utils.js' }

- props를 사용하면 부모 컴포넌트와 자식 컴포넌트를 독립적으로 생각할 수 있음
- 예를 들어 `Avatar`가 props를 어떻게 사용하는지 생각할 필요없이 `Profile`의 `person` 또는 `size` props를 수정할 수 있음
- props는 조절할 수 있는 손잡이라고 생각하면 됨

```jsx
function Avatar(props) {
    let person = props.person;
    let size = props.size;
    // ...
}
```

- 보통은 전체 props 자체를 필요로 하지는 않기에, 개별 props로 `구조 분해 할당`함

> props를 선언할 때 `(` 및 `)` 안에 `{` 및 `}` 쌍을 놓치지 말아야 함
> 
> ```jsx
> function Avatar({person, size}) {
>   // ...    
> }
> ```
> 
> 이 문법은 `구조 분해 할당`이라고 부르며 함수 매개변수의 속성과 동등
>
> ```jsx
> function Avatar(props) {
>    let person = props.person;
>    let size = props.size;
>    // ...
> }
> ```
{: .prompt-warning }

<br>

## props의 기본값 지정

- 값이 지정되지 않았을 때, props에 기본값을 주길 원한다면, 변수 바로 뒤에 `=`과 함께 기본값을 넣어 구조 분해 할당을 해줄 수 있음

```jsx
function Avatar({ person, size = 100 }) {
    // ...
}
```

<br>

> 이 경우 `<Avatar person={...} />`가 `size` prop 없이 렌더링 된다면, `size`는 `100`으로 설정

<br>

## JSX spread 문법으로 props 전달하기

- 때때로 전달되는 props는 반복적

```jsx
function Profile({ person, size, isSepia, thickBorder }) {
    return( 
        <div className="card">
            <Avatar
            person={person}
            size={size}
            isSepia={isSepia}
            thickBorder={thickBorder}
            />
        </div>
    );
}
```

> 때때로 간결함이 중요할 때 `Profile`이 `Avatar`에서 하는 것처럼 일부 컴포넌트는 그들의 모든 props를 자식 컴포넌트에 전달
>
> props를 직접 사용하지 않기 때문에 보다 간결한 `spread` 문법을 사용하는 것이 합리적일 수 있음

```jsx
function Profile(props) {
    return (
        <div className="card">
            <Avatar {...props} />
        </div>
    );
}
```

- 이렇게 하면 `Profile`의 모든 props를 각각의 이름을 나열하지 않고 `Avatar`로 전달
- **spread**문법은 제한적으로 사용하는 것이 좋음

<br>

## 자식을 JSX로 전달하기

```jsx
<div>
    <img />
<div>
```

- 때로는 같은 방식으로 자체 컴포넌트를 중첩하고 싶을 때가 있음

```jsx
<Card>
    <Avatar />
</Card>
```

> JSX 태그 내에 중첩하면, 부모 컴포넌트는 해당 콘텐프를 `children`이라는 prop으로 받을 것임
> 아래의 `Card` 컴포넌트는 `<Avatar />`로 설정된 `children` prop을 받아 이를 래퍼 div에 렌더링 할 것

```jsx
import Avatar from './Avatar.js';

function Card({ children }) {
    return (
        <div className="card">
            {children}
        </div>
    );
}

export default function Profile() {
    return (
        <Card>
            <Avatar
                size={100}
                person={{
                    name: 'Katsuko Saruhashi',
                    imageId: 'YfeOqp2'
                }}
            />
        </Card>
    );
}
```
{: file='App.js' }

```jsx
import { getImageUrl } from './utils.js';

export default function Avatar({ person, size }) {
  return (
    <img
      className="avatar"
      src={getImageUrl(person)}
      alt={person.name}
      width={size}
      height={size}
    />
  );
}
```
{: file='Avatar.js' }

```jsx
export function getImageUrl(person, size = 's') {
  return (
    'https://i.imgur.com/' +
    person.imageId +
    size +
    '.jpg'
  );
}
```
{: file='utils.js' }

![alt text](/assets/img/react/react_re_05_01.png)

<br>

## 시간에 따라 props가 변하는 방식

> 아래의 `Clock` 컴포넌트는 부모 컴포넌트로부터 `color`와 `time`이라는 두 가지 props를 받음 
> 
> (부모 컴포넌트의 코드는 아직 자세히 다루지 않을 [state](https://ko.react.dev/learn/state-a-components-memory)를 사용하기 때문에 생략)

```jsx
export default function Clock({ color, time }) {
    return (
        <h1 style={{ color: color }}>
            {time}
        </h1>
    );
}
```

- 위 예시는 컴포넌트가 시간에 따라 다른 props를 받을 수 있음을 보여줌
- props는 항상 고정되어 있지 않기 때문에 `time` prop은 매초 변경이 되고, `color` prop은 다른 색상을 선택하면 변경됨
- 그러나 props는 컴퓨터 과학에서 `변경할 수 없다`라는 의미의 [불변성](https://en.wikipedia.org/wiki/Immutable_object)을 가지고 있음
- `props 변경`을 시도하면 안됨  ➡️ 선택한 색을 변경하는 등 사용자 입력에 반응해야 하는 경우에는 [State: 컴포넌트의 메모리](https://ko.react.dev/learn/state-a-components-memory) 에서 배울 `set state`가 필요