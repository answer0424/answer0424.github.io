---
layout: post
title: State를 사용해 Input 다루기
date: 2025-08-12 09:00 +09:00
categories: [React_re, state management]
tags: [react]
image:
    path: /assets/img/react/React.png
---

## 선언형 UI와 명령형 UI 비교

- React에서는 직접 UI를 조작할 필요가 없음
- 컴포넌트를 직접 활성화 비활성화하거나 보여주거나 숨길 필요가 없음
- 대신 무엇을 보여주고 싶은지 선언하기만 하면 됨

<br>

## UI를 선언적인 방식으로 생각하기

1. 컴포넌트의 다양한 시각적 state를 확인
2. 무엇이 state 변화를 트리거하는지 알아내기
3. `useState`를 사용해서 메모리의 state를 표현
4. 불필요한 state 변수를 제거
5. state 설정을 위해 이벤트 핸들러를 연결

<br>

## 첫번째: 컴포넌트의 다양한 시각적 state 확인

> 사용자가 볼 수 있는 UI의 모든 state를 시각화

예시
- Empty: 폼은 비활성화된 제출 버튼을 가지고 있음
- Typing: 폼은 활성화된 제출 버튼을 가지고 있음
- Submitting: 폼은 완전히 비활성화되고 스피너가 보임
- Success: 폼 대신에 메시지 렌더링
- Error: Typing state와 동일하지만 오류 메시지가 보임

<br>

## 두번째: 무엇이 state 변화를 트리거하는지 알아내기

- 버튼을 누르거나, 필드를 입력하거나, 링크를 이동하는 것등의 휴먼 인풋
- 네트워크 응답이 오거나, 타임 아웃이 되거나, 이미지를 로딩하거나 하는 등의 컴퓨터 인풋


- 텍스트 인풋을 변경하면(휴먼) 텍스트 상자가 비어있는지 여부에 따라 state를 Empty에서 Typing으로 또는 그 반대로 변경
- 제출 버튼을 클릭하면(휴먼) Submitting state를 변경
- 네트워크 응답이 성공적으로 오면(컴퓨터) Success state를 변경
- 네트워크 요청이 실패하면(컴퓨터) 해당하는 오류 메시지와 함께 Error state 변경

![](/assets/img/react/react_re_16_01.png)

<br>

## 세번째 메모리의 state를 `useState`로 표현

> 다음으로 `useState`를 사용하여 컴포넌트의 시각적 state를 표현
>
> 이 과정은 `단순함`이 핵심

- 먼저 제출 답변(answer)와 에러(error)를 저장

```jsx
const [answer, setAnswer] = useState('');
const [error, setError] = useState(null);
```

- 시각적 state

```jsx
const [isEmpty, setIsEmpty] = useState(true);
const [isTyping, setIsTyping] = useState(false);
const [isSubmitting, setIsSubmitting] = useState(false);
const [isSuccess, setIsSuccess] = useState(false);
const [isError, setIsError] = useState(false);
```

<br>

## 