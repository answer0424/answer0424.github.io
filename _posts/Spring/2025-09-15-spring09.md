---
layout: post
title: Method Injection
date: 2025-09-15 13:00 +09:00
categories: [Spring, IoC Container(dependency)]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## Method Injection

- Spring IoC 컨테이너에서 빈(bean)의 스코프(lifecycle)가 서로 다를 떄 생기는 문제를 해결하는 방법 중 하나
- 특히, 싱글톤(singleton) 빈이 프로토 타입(prototype) 빈을 매번 새로 생성해야 할 경우가 대표적
- 보통 싱글톤 빈은 애플리케이션 시작 시 한 번 생성되고, 그 안의 프로퍼티는 한 번만 주입

<br>

## 주요 형태들

| 방식 | 설명 | 특징/제한 |
|-|-|-|
| Lookup Method Injection | 빈 내에서 특정 메소드를 컨테이너가 override하거나 동적으로 서브클래싱 하여 호출 시마다 빈을 새로 lookup 하도록 함 | <ul><li>오버라이드할 메소드가 final이어선 안 됨.</li><li>해당 빈 클래스가 final이면 subclass 만들 수 없으므로 안 됨.</li><li>XML 기반 설정이나 @Lookup 어노테이션 사용 가능.</li><li>@Bean 메소드로 정의된 configuration 클래스에서는 method lookup이 불가한 경우 있음. Home </li><li>프로토타입 빈이 필요한 경우에 사용해야 함. 싱글톤 빈만 정의했다면 매번 새 인스턴스 안 나옴 </li></ul> | 
| Method Replacement/Arbitrary Method Injection | XML 설정에서 `<replaced-method>` 요소를 사용하여 기존 클래스의 특정 메소드를 다른 구현체로 바꿀 수 있음 | <ul><li>실제 사용 빈도가 낮음.</li><li>적당한 경우에만 사용; 복잡성을 높일 수 있음.</li><li>메소드 서명이 오버로딩(overloading)된 경우 인자 타입(arg-type)을 지정해줘야 함.</li></ul> |

<br>

