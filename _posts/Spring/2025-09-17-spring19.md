---
layout: post
title: 자바 기반 구성 작성
date: 2025-09-17 09:00 +09:00
categories: [Spring, IoC Container, Java Based Container Configuration]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## `@Configuration` 클래스 구성

> Spring에서는 `@Configuration` 어노테이션을 사용하여 빈 정의를 제공하는 설정 클래스를 구성

<br>

#### `@Import` 어노테이션을 통한 구성 클래스 조합

- 목적: 여러 개의 `@Configuration` 클래스를 하나의 설정으로 조합하여 사용할 수 있음
- 사용 방법: `@Import` 어노테이션을 사용하여 다른 구성 클래스를 포함시킬 수 있음

```java
@Configuration
public class DatabaseConfig {
    @Bean
    public DataSource dataSource() {
        return new DataSource();
    }

    @Configuration
    @Import(DatabaseConfig.class)
    public class AppConfig {
        @Aurowired
        private DataSource dataSource;

        @Bean
        public MyService myService() {
            return new MyService(databaseConfig.dataSource());
        }
    }
}
```

> 위 예시에서 `AppConfig` 클래스는 `DatabaseConfig` 클래스를 `@Import`하여 데이터 소스 빈을 사용할 수 있음

<br>

## `@Profile` 어노테이션을 통한 환경별 구성

- 목적: 특정 환경에서만 활성화되는 구성 클래스를 정의할 수 있음
- 사용 방법: `@Profile` 어노테이션을 사용하여 활성화될 환경을 지정

```java
@Configuration
@Profile("development")
public class DevelopmentConfig {
    @Bean
    public DataSource dataSource() {
        return new DataSource("dev-url");
    }
}

@Configuration
@Profile("production")
public class ProductionConfig {
    @Bean
    public class DataSourceConfig {
        @Bean
        public DataSource dataSource() {
            return new DataSource("prod-url");
        }
    }
}
```

> 위 예시에서 `DevelopmentConfig` 클래스느 "development" 프로파일이 활성화될 때만 사용
> `ProductionConfig` 클래스는 "production" 프로파일이 활성화될 때만 사용

<br>

#### XML 과의 조합

- 목적: 기존의 XML 설정 파일과 Java 기반 설정을 함께 사용할 수 있음
- 사용 방법: `@ImportResource` 어노테이션을 사용하여 XML 설정 파일을 포함

```java
@Configuration
@ImportResource("classpath:applicationContext.xml")
public class AppConfig {
    // Java 기반 빈 정의
}
```