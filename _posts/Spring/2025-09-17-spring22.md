---
layout: post
title: Configuring a Global Date and Time Format
date: 2025-09-17 13:00 +09:00
categories: [Spring, Validation]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 기본 동작

> Spring에서는 `@DateTimeFormat` 어노테이션이 없는 날짜 및 시간 필드를 처리할 때 기본적으로 `DateFormat.SHORT` 스타일을 사용하여 문자열을 날짜로 변환

<br>

## 전역 날짜 및 시간 형식 설정

> 특정 형식으로 날짜 및 시간을 처리하고자 할 경우, Spring의 `FormatterRegistry`를 사용하여 전역적으로 날짜 및 시간 형식을 설정할 수 있음

```java
@Configuration
public class ApplicationConfiguration {

    @Bean
    public FormattingConversionService conversionService() {
        // 기본 포맷터를 등록하지 않은 DefaultFormattingConversionService 생성
        DefaultFormattingConversionService conversionService = new DefaultFormattingConversionService(false);

        // @NumberFormat 어노테이션을 위한 포맷터 등록
        conversionService.addFormatterForFieldAnnotation(new NumberFormatAnnotationFormatterFactory());

        // JSR-310 날짜 형식 포맷터 등록
        DateTimeFormatterRegistrar dateTimeRegistrar = new DateTimeFormatterRegistrar();
        dateTimeRegistrar.setDateFormatter(DateTimeFormatter.ofPattern("yyyyMMdd"));
        dateTimeRegistrar.registerFormatters(conversionService);

        // 날짜 형식 포맷터 등록
        DateFormatterRegistrar dateRegistrar = new DateFormatterRegistrar();
        dateRegistrar.setFormatter(new DateFormatter("yyyyMMdd"));
        dateRegistrar.registerFormatters(conversionService);

        return conversionService;
    }
}
```