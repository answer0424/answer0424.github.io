---
layout: post
title: Aspect
date: 2025-09-17 13:00 +09:00
categories: [Spring, Core Technologies, AOP, AspectJ]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## @AspectJ 스타일이란

- `@AspectJ`는 AspectJ 프로젝트에서 도입된 어노테이션 기반의 Aspect 정의 방식
- 즉, 클래스를 일반 자바 클래스로 만들고, 거기에 `@Aspect`, `@Before`, `@After` 같은 어노테이션을 붙여서 Aspect를 정의하는 것
- 이 방식의 선언은 AspectJ 5 버전부터 가능하게 된 것이고, Spring에서도 이 어노테이션들을 인식해서 자동으로 적용 가능하게 지원

<br>

## Spring에서의 동작 방식

- Spring AOP 런타입은 기본적으로 순수한 Spring AOP
- 즉, 스타일을 사용하더라도 별도의 AspectJ 컴파일러나 위버를 쓰지 않을 경우 프록시 기반으로 동작
- AspectJ 컴파일러/위버를 추가로 사용하면 좀 더 강력한 기능을 쓸 수 있음

<br>

## 활성화 및 설정 방법

- `@EnableAspectJAutoProxy` 어노테이션을 Java 설정에서 붙이면 `@AspectJ` 스타일을 활용한 자동 프록시 생성이 가능하게 됨
- XML 설정으로도 `<aop:aspectj-autoproxy/>` 와 같은 요소를 사용해서 동일한 설정을 할 수 있음

<br>

## 장단점

- 장점 
  - 어노테이션 방식이라 코드 내에서 Aspect 선언이 비교적 직관적이고 가독성이 좋음
  - Spring AOP와 Pointcut 언어를 공유하므로 익숙하다면 설정이 쉬움
  - 필요한 경우 AspectJ의 컴파일 타임 또는 load-time weaving을 추가해 더 강력한 기능을 사용할 수 있음
- 단점
  - 기본적으로 Spring AOP의 제약을 받음
  - `aspectjweaver`가 필요
  - 퍼포먼스나 복잡한 weaving 요구사항이 있을 경우에는 full AspectJ를 사용하는 것이 더 적합