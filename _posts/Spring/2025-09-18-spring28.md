---
layout: post
title: Spring 어플리케이션에서 AspectJ 사용
date: 2025-09-18 09:00:00 +09:00
categories: [Spring, Core Technologies, AOP]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개념 및 주요 내용

- spring-aspect.jar: Spring에서 제공하는 AspectJ용 라이브러리로, `@Configurable`, `@Transactional` 같은 AspectJ 기반의 기능들을 포함
- @Configurable 사용
  - 컨테이너 밖에서 `new` 로 생성된 객체나 ORM 툴이 생성한 객체 같은, Spring IoC가 관리하지 않은 객체들에도 의존성 주입을 가능하게 만듦
  - 예: 클래스에 `@Configurable`을 붙이고, 해당 클래스에 맞는 빈 정의를 prototype 스코프로 설정
- `spring-aspects` 내의 다른 AspectJ 기능들
  - `AnnotationTransactionAspect` 등, `@Transactional` 어노테이션이 붙은 메서드/클래스를 감싸서 트랜잭션 관리 기능을 AspectJ로 수행할 수 있는 기능들
  - `AbstractTransactionalAspect` 같은 추상적 aspect를 확장해서 사용자 정의 pointcut을 설정해서 domain 객체 생성 시점에 설정을 자동으로 적용하는 방법도 있음
- AspectJ 빈 구성
  - AspectJ로 생성된 aspect들을 Spring IoC 컨테이너가 관리하게끔 `factory-method="aspectOf"` 같은 설정을 사용
- Load-time Weaving(LTM)
  - 클래스가 로드될 때 bytecode를 조작하여 weaving을 적용하는 방식