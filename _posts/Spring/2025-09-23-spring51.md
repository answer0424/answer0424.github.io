---
layout: post
title: Controlling Database Connections
date: 2025-09-23 09:00:00 +09:00
categories: [Spring, DataAccess, Transaction Management, JDBC]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 주요 구성 요소 및 동작 방식

#### DataSource

- Spring JDBC 작업 시 기본적으로 `DataSource` 인터페이스를 통해 커넥션을 획득
- `DataSource`는 JDBC 표준이고, 연결 풀 또는 테스트용 단순 구현체 등을 설정하는 역할

<br>

#### DriverManagerDataSource

- 테스트 용도 등 단순한 환경에서 사용되는 `DataSource` 구현체들
- 연결 풀 기능없음 ➡️ 여러 요청이 반복될 경우 성능 저하
- 프로덕션보다는 개발/테스트 환경용으로 적합

<br>

#### SmartDataSource

- Spring이 제공하는 확장된 인터페이스
- `DataSource`를 상속하고, 커넥션을 닫을 필요가 있는지 등의 상태 등을 묻는 기능
- 여러 커넥션을 재사용해야 할 때 효율적

<br>

#### TransactionAwareDataSourceProxy

- 트랜잭션이 걸려 있을 때, `DataSource`가 반환하는 커넥션이 트랜잭션-연계가 고려된 커넥션이 되도록 감싸는 프록시
- 트랜잭션이 없는 상태에서는 일반 `DataSource`와 동일하게 동작
- 이를 통해 트랜잭션 내부에서 얻는 커넥션이 적절히 관리되도록 보장

<br>