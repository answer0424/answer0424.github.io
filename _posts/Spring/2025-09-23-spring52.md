---
layout: post
title: JDBC Batch Operations
date: 2025-09-23 09:00:00 +09:00
categories: [Spring, DataAccess, Transaction Management, JDBC]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 고급 JDBC 기능들 & 활용

#### Batch Operations

- 설명
  - 여러 개의 INSERT, UPDATE, DELETE 등을 모아서 한 번에 실행 ➡️ 효율설 증가, DB 네트워크 왕복 횟수 감소
- 사용 시점
  - 많은 데이터 삽입/ 갱신이 있을 때
  - 반복적으로 SQL을 실행해야 할 경우

<br>

#### auto-generated keys 처리

- 설명
  - INSERT 후 DB가 생성해준 기본키 값을 받아오는 기능(`SimpleJdbcInsert` 등이 도움)
- 사용 시점
  - 테이블에서 PK가 자신이 생성됨
  - 그 값을 자바 객체에 반영해야 할 때

<br>

#### 저장 프로시저 및 함수 호출

- 설명
  - `SimpleJdbcCall` 같은 API 사용해서 DB 내 저장 프로시저 또는 함수 실행, 입출력 파라미터 지원
- 사용 시점
  - DB 내부 로직이 저장 프로시저로 구현되어 있을 때
  - 복잡한 SQL 로직을 DB 쪽에 위임하고 싶을 때

<br>

#### Named Parameters / NamedParameterJdbcTemplate

- 설명
  - SQL 안에서 `?` 대신 이름 붙은 파라미터(`:name`)사용 가능 ➡️ 가독성, 유지보수성 향상 
- 사용 시점
  - 인자 많은 쿼리
  - SQL 유지보수 시 파라미터 위치 바뀔 우려 있을 때

<br>

#### Custom RowMapper / ResultSetEcxtractor / Callback 유틸리티

- 설명
  - 결과셋을 객체로 매핑하는 로직을 재사용 가능하게 분리
- 사용 시점
  - 반복되는 매핑 코드가 많을 때
  - 코드 중복을 줄이기 위해

<br>

#### SQLException 변환

- 설명
  - `SQLException` 같은 벤더 종속 예외를 Spring의 `DataAccessException` 계층으로 바꿔줌
- 사용 시점
  - DB 벤더 변경 시 예외 처리 일관성 유지, 오류 처리 코드 단순화

<br>

#### 커넥션 제어 

- 설명
  - 트랜잭션 경계 내에서 커넥션을 재사용하거나, 트랜잭션 없는 경우에도 코드가 일관적으로 커넥션을 얻고 반환하게 도움을 주는 유틸리티 / 프록시 제공
- 사용 시점
  - 트랜잭션 범위 안팎 모두에서 리소스 관리가 중요할 때 커넥션 누수 방지 등

<br>

#### 성능 최적화 관련 기능

- 설명