---
layout: post
title: SimpleJdbc
date: 2025-09-23 09:00:00 +09:00
categories: [Spring, DataAccess, Transaction Management, JDBC]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## `SimpleJdbcInsert` - INSERT 작업 단순화

> 데이터베이스 테이블에 데이터를 삽입할 때, 컬럼 이름과 값을 자동으로 매핑하여 INSERT 문을 생성

```java
SimpleJdbcInsert insertActor = new SimpleJdbcInsert(dataSource)
    .withTableName("actor")
    .usingGeneratedKeyColumns("id");

Map<String, Object> parameters = new HashMape<>();
parameters.put("first_name",  "John");
parameters.put("last_name",  "Doe");
parameters.put("birth_date",  Data.valueOf("1980-01-01"));

Number newId = insertActor.executeAndReturnKey(parameters);
```

<br>

## `SimpleJdbcCall` - 저장 프로시저 및 함수 호출 간소화

> 저장 프로시저를 호출할 때, 입력 및 출력 파라미터를 자동으로 매핑하여 호출 가능

```java
SimpleJdbcCall jdbcCall = new SimpleJdbcCall(dataSource)
    .withProcedureName("read_actor")
    .declareParameters(
        new SqlParameter("in_id", Types.INTEGER),
        new SqlOutParameter("out_first_name", Types.VARCHAR),
        new SqlOutParameter("out_last_name", Types.VARCHAR),
        new SqlOutParameter("out_birth_date", Types.DATE)
    );

Map<String, Object> inParams = new HashMap<>();
inParams.put("in_id", 1);

Map<String, Object> out = jdbcCall.execute(inParams);
String firstName = (String) out.get("out_first_name");
```

<br>

## `NamedParameterJdbcTemplate` - 이름 기반 파라미터 바인딩

> SQL 쿼리에서 `?` 대신 `:paramName` 형식으로 파라미터를 사용하여 가독성을 높일 수 있음

```java
String sql = "SELECT * FROM actor WHERE first_name = :firstName";
Map<String, Object> params = new HashMap<>();
params.put("firstName", "John");

List<Actor> actors = namedParameterJdbcTemplate.query(sql, params, new ActorRowMapper());
```

<br>