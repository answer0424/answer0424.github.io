---
layout: post
title: JPA
date: 2025-09-23 09:00:00 +09:00
categories: [Spring, DataAccess, Transaction Management, ORM]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## EntityManagerFactory 설정

- `LocalContainerEntityManagerFactoryBean` 같은 빈을 통해서 설정
- 데이터소스, JPA 구현체, JPA 속성, 엔티티 위치 패키지 등을 지정

<br>

## EntityManager 사용

- `@PersistenceContext` 어노테이션을 사용해서 `EntityManager`를 빈으로 주입 가능
- 또는 `EntityManagerFactory`에서 직접 얻기도 함

<br>

## 트랜잭션 관리

- Spring `PlatformTransactionManager` 구현체 중 `JpaTransactionManager`를 사용하여 JPA 기반의 트랜잭션을 시작/커밋/롤백 등을 관리
- 선언적 트랜잭션(`@Transactional`)과 프로그래매틱 트랜잭션 모두 지원

<br>

## 예외 변환

- JPA나 구현체에서 발생하는 예외들을 Spring의 공통 예외 계층으로 변환
- 그렇기 때문에 비즈니스 로직이 JPA 구현체에 종속되지 않음