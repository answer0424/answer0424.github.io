---
layout: post
title: Exceptions
date: 2025-09-25 13:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, DispatcherServlet]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 주요 개념 및 흐름

- Spring MVC는 `HandlerExceptionResolver`라는 전략 인터페이스를 통해 예외를 처리할 수 있도록 설계됨
  - 여러 개의 `HandlerExceptionResolver`를 chain 형태로 구성할 수 있음
- `HandlerExceptionResolver`는 예외가 발생했을 때 아래 중 하나를 반환할 수 있음
   1. `ModelAndView`객체 ➡️ 특정 에러 뷰로 매핑
   2. 빈 `ModelAndView` ➡️ 예외가 처리되었음을 나타냄
   3. `null` ➡️ 이 예외를 처리하지 않고 다음 resolver에게 위임
   - 만약 체인 끝까지 처리되지 않으면 예외가 서블릿 컨테이너 쪽으로 전달
- Spring MVC 설정 시 기본적으로 3가지 예외 처리 resolver들이 등록되어 있음
  - `ExceptionHandlerExceptionResolver`: `@ExceptionHandler` 메서드 기반 처리
  - `ResponseStatusExceptionResolver`: `@ResponseStatus`가 붙은 예외들을 HTTP 상태 코드로 매핑
  - `DefaultHandlerExceptionResolver`: Spring MVC 내부 예외들을 HTTP 상태 코드로 매핑
- 또한 `SimpleMappingExceptionResolver` 같은 클래스를 별도로 빈으로 등록해서, 예외 클래스 ↔️ 뷰 이름 매핑 테이블을 정의할 수 있음
  - 해당 방식은 전통적인 JSP 기반 웹 앱의 에러 페이지 처리에 유용
- 예외 처리가 아무 resolver에서도 처리되지 않으면, 서블릿 컨테이너 수준에서 설정된 기본 에러 페이지가 동작
- 예시로 `web.xml`의 `<error-page>` 설정이 나와있고, 그 설정을 통해 남은 예외나 에러 상태 코드가 발생했을 때 지정된 경로로 내부적으로 포워딩하게 할 수 있음

<br>