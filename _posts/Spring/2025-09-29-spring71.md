---
layout: post
title: HTTP 메세지 변환
date: 2025-09-29 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 문서 개요 및 역할

- Spring의 `spring-web` 모듈은 `HttpMessageConverter` 인터페이스를 제공해서, HTTP 요청/응답 본문을 `InputStream` ↔️ 객체, `OutputStream` ↔️ 객체 간 변환할 수 있도록 함
- 이 변환기는 Spring MVC나 REST 클라이언트 쪽에서도 기본으로 등록되어 동작
- 기본적으로 프레임워크에서 여러 미디어 타입을 지원하는 `HttpMessageConverter` 구현체들이 제공되고, `supportedMediaTypes` 속성을 통해 변환 가능한 미디어 타입을 조정할 수 있음

<br>

## 주요 HttpMessageConverter 구현체 및 특징

#### 1. `StringHttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ `String`
- text 계열 미디어 타입(예: `text/plain`)을 읽고 씀

<br>

#### 2. `FormHttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ `MultiValueMap<Stinrg, String>` 등 폼 데이터
- `application/x-www-form-urlencoded` 읽기/쓰기 지원, 쓰기 시 `multipart/form-data` 일부 지원 가능

<br>

#### 3. `ByteArrayHttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ `byte[]`
- 모든 미디어 타입(`*/*`)을 읽고 쓸 수 있음
- 기본 `content-type`은 `application/octet-stream`

<br>

#### 4. `MarshallingHttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ XML 바인딩 객체
- Spring의 `Marshaller` / `Unmarshaller` 인터페이스를 사용해 XML ↔️ 객체 변환
- 기본 미디어 타입은 `application/xml`, `text/xml`

<br>

#### 5. `MappingJackson2HttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ 객체 ↔️ JSON
- Jackson의 XML 확장 모듈 사용, 기본 지원 타입 `application/json`

<br>

#### 6. `MappingJackson2XmlHttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ 객체 ↔️ XML
- Jackson의 XML 확장 모듈 사용, 기본 지원 타입 `application/xml`

<br>

#### 7. `GsonHttpMessageConverter`

- 읽기/쓰기 대상 타입 ➡️ 객체 ↔️ JSON
- Google의 Gson 라이브러리 사용, `com.google.code.gson` 라이브러리 필요

<br>