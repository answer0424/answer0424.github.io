---
layout: post
title: Annotated Controllers
date: 2025-09-29 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요 & 기본 특징

- Spring MVC는 `@Controller` / `@RestController` 어노체이션 기반 모델을 제공(`DispatcherServlet` 기반)
- 어노테이션 방식 컨트롤러는 특정 클래스 상속이나 구현없이, 자유로운 메서드 시그니처로 정의할 수 있음

```java
@Controller
public classHelloController {
    @GetMapping("/hello")
    public String hello(Model model) {
        model.addAttribute("message", "Hello, World!");
        return "index"; // 뷰 이름 반환
    }
}
```

> 위 예제는 `GET /hello` 요청이 들어오면 "index" 뷰를 반환하고, 모델에 메시지를 담는 전형적인 방식

<br>

## 요청 매핑 (Mapping Requests)

- `@RequestMapping` 외에도 HTTP 메서드별 어노테이션
- 매핑 어노테이션 속성으로 `path`, `params`, `headers`, `consumes`, `produces` 등을 설정할 수 있음
- 동일한 경로라도 HTTP 메서드나 파라미터 조건에 따라 서로 다른 핸들러 메서드로 분기 가능

<br>

## 메서드 인자 바인딩(Method Arguments)

> 컨트롤러 메서드의 매개변수로 다양한 타입을 받을 수 있음

| 인자 유형 | 설명 / 바인딩 방식 |
|-|-|
| `Model` / `ModelMap` / `ModelAndView` | 뷰로 전달할 데이터를 저장하거나 함께 리턴 |
| `HttpServletRequest`, `HttpServletResponse`, `HttpSession` | 서블릿 API 객체 직접 참조 |
| `@RequestParam` | 쿼리 파라미터, 폼 데이터 바인딩 |
| `@PathVariable` | URL 경로 변수 바인딩 |
| `@RequestHeader` | HTTP 헤더 값 바인딩 |
| `@CookieValue` | 쿠키 값 바인딩 |
| `@RequestBody` | 요청 본문을 객체로 변환 (예: JSON) |
| `HttpEntity<T>`, `RequestEntity<T>` | 본문 + 헤더 포함한 요청 정보 바인딩 |
| `@ModelAttribute` | 폼 객체 바인딩 + 모델 객체로 저장 |
| `@SessionAttribute` / `@SessionAttributes` | 세션 속성 바인딩 및 관리 |
| `@RequestAttribute` | 서블릿 request 속성 바인딩 |
| `RedirectAttributes` | 리다이렉트 시 플래시 속성 전달 |
| `@InitBinder` 메서드 | 바인딩 / 검증 설정 커스터마이징 위한 초기화 바인딩 메서드 |
| `@Valid` / `BindingResult` / `Errors` |  유효성 검사 처리 관련 바인딩 결과 참조 |


<br>

## 반환값 처리

| 반환 타입 | 의미 / 동작 방식 |
|-|-|
| `String` | 논리적 뷰 이름 반환 |
| `ModelAndView` | 뷰 + 모델 데이터를 함께 반환 |
| `void` | 메서드 내부에서 직접 응답 처리 |
| `@ResponseBody` / `ResponseEntity<T>` | 응답 본문으로 객체를 직렬화해서 전달 |
| `HttpEntity<T>` | 응답 본문 + 헤더 포함 응답 처리 |

<br>

## 예외 처리 및 공통 로직 처리

- `@ExceptionHandler` 어노테이션을 사용해 컨트롤러 내부에서 특정 예외를 캡처하고 처리할 수 있음
- `@ControllerAdvice` 클래스를 통해 여러 컨트롤러에 걸친 공통 예외 처리, 바인딩 설정, 메시지 변환 등을 중앙에서 관리할 수 있음
- `@ModelAttribute` 메서드, `@InitBinder` 메서드 등을 컨트롤러 또는 `@ControllerAdvice` 쪽에 선언해서 요청 전 / 후 공통 처리 로직을 적용할 수 있음

<br>

## 핵심 요약 & 어노테이션 / 요소 역할 정리

> Spring MVC의 어노테이션 기반 컨트롤러 모델은 자유로운 메서드 시그니처, 다양한 입력 인자 바인딩, 유연한 반환 타입 지원, 그리고 예외 처리 및 공통 로직 처리를 선언할 수 있게 함