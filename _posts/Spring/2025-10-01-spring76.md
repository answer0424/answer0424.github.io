---
layout: post
title: Return Values
date: 2025-10-01 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, Controller, Handler Method]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- 컨트롤러 메서드는 다양한 반환 타입을 지원
- 반환 타입에 따라 뷰 렌더링, 모델 데이터 처리, HTTP 응답 생성 등 결과가 달라짐
- 유연한 응답 처리를 통해 REST API, HTM, 뷰, 파일 다운로드 등 다양한 기능을 쉽게 구현 가능

<br>

## 주요 반환 타입

#### 1. `ModelAndView`

- 뷰 이름과 모델 데이터를 함께 반환
- 전통적인 방식에서 가장 많이 사용

```java
@RequestMapping("/hello")
public ModelAndView handle() {
    ModelAndView mav = new ModelAndView("welcome");
    mav.addObject("message", "Hello, World!");
    return mav;
}
```

- 결과:  `welcome` 뷰가 렌더링되고, 모델에 `message`속성이 포함

<br>

#### 2. `Model`, `Map`

- 단순히 모델 데이터만 반환
- 뷰 이름은 `RequestToViewNameTranslator`에 의해 자동 결정

```java
@RequestMapping("/data")
public Map<String, Object> handle() {
    return Map.of("key", "value");
}
```

<br>

#### 3. `String`

- 반환값이 뷰 이름으로 간주됨
- 모델 데이터는 `Model`객체나 `@ModelAttribute` 파라미터를 통해 전달 가능

```java
@RequestMapping("/home")
public String handle(Model model) {
    model.addAttribute("msg", "Home Page");
    return "home";
}
```

<br>

#### 4. `View`

- 뷰 객체 자체를 반환 가능

```java
@RequestMapping("/download")
public View handle() {
    return new MappingJackson2JsonView();
}

```

<br>

#### 5. `@ResponseBody` 또는 `HttpEntity`, `ResponseEntity`

- HTTP 응답 본문에 직접 쓰기
- REST API 구현에 주로 사용

```java
@GetMapping("/api/data")
@ResponseBody
public Data handle() {
    return new Data("value");
}
```

```java
@GetMapping("/api/resp")
public ResponseEntity<String> handle() {
    return ResponseEntity.ok("Hello ResponseEntity");
}
```

<br>

#### 6. `HttpHeaders`

- 응답 헤더만 반환 가능

```java
@GetMapping("/headers")
public HttpHeaders handle() {
    HttpHeaders headers = new HttpHeaders();
    headers.add("Custom-Header", "value");
    return headers;
}
```

<br>

#### 7. `HttpEntity<?>`, `ResponseEntity<?>`

- 상태 코드, 헤더, 본문 모두 제어 가능
- REST API에서 가장 일반적인 반환 타입

<br>

#### 8. 