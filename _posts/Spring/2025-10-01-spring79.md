---
layout: post
title: RequestHeader
date: 2025-10-01 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, Controller, Handler Method]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요 및 목적

- `@RequestHeader` 어노테이션은 HTTP 요청 헤더의 값을 컨트롤러 메서드의 파라미터로 바인딩할 떄 사용
- 예를 들어, 클라이언트 요청 헤더에 담긴 `Accept-Encoding`, `Keep-Alive` 등을 파라미터로 받을 수 있음
- 메서드 파라미터의 타입이 `String`이 아니면, Spring이 타입 변환을 자동으로 수행

<br>

## 단일 헤더 바인딩


```java
@GetMapping("/demo")
public void handle(
    @RequestHeader("Accept-Encoding") String encoding,
    @RequestHeader("Keep-Alive") long keepAlive) {
    // ...
}
```

- 위 예제처럼 `@RequestHeader("헤더명")`을 사용하여 해당 헤더의 값을 직접 바인딩할 수 있음
- 만약 헤더가 없는 겨우 기본 동작은 예외 발생(400)

<br>

## 모든 헤더를 Map/HttpHeaders/MultiValueMap으로 받기

- `Map<String, String>`, `MultiValueMap<String, String>` 또는 `HttpHeaders` 타입의 파라미터에 `@RequestHeader`를 적용하면, 모든 헤더들이 해당 맵에 담김

```java
@GetMapping("/demo")
public void handle(@RequestHeader Map<String, String> headers) {
    // headers.get("Accept-Encoding"), etc.
}
```

<br>

## 컬렉션 / 배열 및 복수 값 헤더 지원

- 헤더가 쉼표로 구분된 여러 값을 담고 있다면, `String[]` 또는 `List<String>` 타입으로 받을 수도 있음 
- 즉, `@RequestHeader("Accept")`와 같이 선언하면 `String`, `String[]`, `List<String>` 등 다양한 타입으로 바인딩 가능

