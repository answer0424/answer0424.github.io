---
layout: post
title: RequestBody
date: 2025-10-10 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, Controller, Handler Method]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 기본 개념

- 용도: 클라이언트로부터 전달받은 JSON, XML 등의 요청 본문을 Java 객체로 변환
- 핵심: Spring의 `HttpMessageConverter`가 자동으로 변환 수행

<br>

## 사용 예시

#### DTO 클래스

```java
public class User {
    private String name;
    private int age;

    // getters and setters
}
```

<br>

#### 컨트롤러 메서드

```java
@RestController
public class UserController {
    @PostMapping("/users")
    public String createUser(@RequestBody User user) {
        return "User " + user.getName() + " created.";
    }
}
```

- 클라이언트 요청 예시

```json
{
    "name": "Alice",
    "age": 30
}
```

<br>

## 특징

- 자동 변환: JSON/XML ➡️ Java 객체
- 유효성 검사 가능: `@Valid`와 함께 사용 가능
- 에러 처리: 유효성 실패 시 `MethodArgumentNotValidException` 발생

<br>

## 주의사항

- 폼 데이터(`application/x-www-form-urlencoded`)는 `@RequestParam` 사용
- 파일 업로드 시에는 `@RequestPart` 사용
- `HttpMessageConverter` 미설정 시 `415 Unsupported Media Type` 오류 발생

<br>

## 유효성 검사 예시


```java
import jakarta.validation.Valid;

@RestController
public class AccountController {
    @PostMapping("/accounts")
    public String createAccount(@Valid @RequestBody Account account) {
        return "Account created!";
    }
}

public class Account {
    @NotNull
    private String accountNumber;
    @NotNull
    private Striung accountHolder;
    // getters and setters
}

```

- 유효성 검사 실패 시 400 `BAD REQUEST` 응답

<br>

