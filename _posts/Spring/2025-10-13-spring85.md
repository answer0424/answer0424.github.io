---
layout: post
title: ResponseBody
date: 2025-10-13 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, Controller, Handler Method]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 기본 개념 및 역할

- `@ResponseBody` 어노테이션을 메서드에 붙이면, 컨트롤러 메서드의 반환값을 응답 본문으로 직렬화하여 클라이언트에 전송
- 내부적으로 Spring은 `HttpMessageConverter`를 사용하여 반환 객체를 적절한 형식으로 변환
- `@ResponseBody`는 클래스 레벨에도 사용할 수 있으며, 그 경우 해당 클래스는 모든 핸들러 메서드에는 자동으로 `@ResponseBody`가 적용됨
  - 이 동작이 `@RestController` 어노테이션의 핵심 기능이기도 함(`@Controller` + `@ResponseBody`)

<br>

## 예제 코드

```java
@GetMapping("/accounts/{id}")
@ResponseBody
public Account handle() {
    //...
    return someAccount;
}
```

- 클라이언트가 `/accounts/{id}` URL로 GET 요청을 보냈을 때
- `handle()` 메서드는 `Account` 객체를 반환하고
- `@ResponseBody` 덕분에 Spring은 `Account` 객체를 JSON으로 변환하여 HTTP 응답 본문으로 전송

<br>

## 주요 특징 및 유의사항

| 항목 | 설명 |
|---|---|
| 직렬화 | 반환 객체를 HTTP 응답 본문으로 직렬화(예: JSON, XML) |
| 메시지 변환 | `HttpMessageConverter`가 내부적으로 동작하여 객체 ↔️ 표현식 변환 |
| 클래스 레벨 적용 | 클래스에 `@ResponseBody`를 붙이면, 해당 클래스의 모든 메서드에 적용됨 |
| `@RestController` | `@Controller` + `@ResponseBody` 조합과 같음 |
| 리소스 반환 지원 | `Resource` 타입 객체를 반환하면, 파일 컨텐츠 등 스트리밍 방식으로 응답할 수 있음 |
| Reactive 지원 | 리액티브 타입과도 함께 사용 가능 |
| 메시지 컨버터 설정 가능 | `WebMvcConfigurer` 등을 통해 메시지 변환 설정 커스터마이징할 수 있음 |