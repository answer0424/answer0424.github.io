---
layout: post
title: JSP/JSTL
date: 2025-10-16 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, View Technologies]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- Spring MVC는 JSP(JavaServer Pages)와 JSTL(JavaServer Pages Standard Tag Library)을 뷰 기술로 사용하는 기능을 기본적으로 지원
- JSP 뷰 렌더링 시 Spring은 데이터 바인딩, 국제화, 폼 처리 등을 지원하는 태그 라이브러리들을 제공
- 특히, JSP + JSTL 조합을 사용할 경우 `JstlView` 뷰 클래스를 사용해야 하며, 국제화 메시지 처리 등을 위해 적절한 준비가 필요

<br>

## 설정 방법

```xml
<bean: id:"viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>
    <property name="prefix" value="/WEB-INF/views/"/>
    <property name="suffix" value=".jsp"/>
</bean>
```

- `InternalResourceViewResolver`를 사용하여 뷰 이름을 JSP 경로로 매핑
- `viewClass`를 `JstlView`로 설정하면 JSTL 및 국제화 메시지 처리가 지원됨
- `prefix`와 `suffix` 속성으로 뷰 파일의 경로와 확장자를 정의

<br>

## Spring JSP 태그 라이브러리 및 폼 태그

#### Spring JSP 태그 라이브러리

- Spring의 태그들은 데이터 바인딩과 HTML escaping 기능을 초함하고 있어 안전한 표현이 가능
- 태그 라이브러리 TLD 파일은 `spring-webmvc.jar` 내부에 포함되어 있으며, JSP 페이지 상단에서 선언하여 사용 가능

```jsp
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>
```

- 이 태그들을 사용하면 컨트롤러에서 제공한 모델 속성들을 JSP 내에서 더 편리하게 접근하고 표현할 수 있음

<br>

#### Spring 폼 태그 라이브러리

- Spring 2.0 이후부터 제공되며, `form` 태그 라이브러리는 HTML 폼 요소와 매핑되어 데이터 바인딩과 검증 결과를 JSP 내에서 쉽게 반영할 수 있게 도와줌

```jsp
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
```

- `form:form`, `form:input`, `form:select`, `form:errors` 등 다양한 태그를 제공
- 이 태그들은 Spring MVC의 커맨드 객체 및 바인딩/검증 결과를 참조하여 자동으로 값을 채우거나 오류 메시지를 출력

```jsp
<form:form modelAttribute="user" method="post" action="/saveUser">
  <form:label path="name">Name:</form:label>
  <form:input path="name"/>
  <form:errors path="name" cssClass="error"/>
  <input type="submit" value="Save"/>
</form:form>
```

> 이 JSP는 `user`라는 모델 속성 객체의 `name` 필드를 바인딩하고, 오류가 있으면 `form:errors` 태그를 통해 표시

<br>

## 특징 및 유의사항

| 항목 | 내용 |
|-|-|
| JSP vs JSTL | JSTL 태그를 사용하려면 `JstlView` 뷰 클래스를 사용해야 함
| HTML escaping 지원 | Spring 태그들은 기본적으로 HTML escaping 기능을 제공하여 XSS 공격 방지에 도움 |
| ViewResolver 순서 | JSP 뷰 이졸버가 설정된 순서에 따라 우선순위가 영향을 줄 수 있음 |
| 템플릿 리로딩 주의 | JSP는 기본적으로 컨테이너에 의해 캐시되거나 리로딩되지 않을 수 있으므로, 개발 모드에서는 설정 조정 필요 |
| 레이아수 / 프래그먼트 통합 | JSP는 `<jsp:include>` 또는 JSP 파일 등을 사용해서 뷰 구성 조각화를 할 수 있음 |
| 성능 고려 | JSP는 서버 사이드 뷰 렌더링 방식이므로 복잡한 로직이나 대량 데이터 처리 시 부담이 있을 수 있음 |