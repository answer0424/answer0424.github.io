---
layout: post
title: MVC 구성 활성화
date: 2025-10-16 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, MVC config]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- Spring MVC를 사용할 때, MVC 관련 인프라를 활성화하려면 설정이 필요
- Java 기반 설정에서는 `@EnableWebMvc` 어노테이션을 사용하고 XML 기반 설정에서는 `<mvc:annotation-driven>` 엘리먼트를 사용
- 이 설정은 여러 MVC 인프라 빈들을 자동으로 등록해 주며, 클래스패스 상의 의존성에 따라 JSON/XML 변환기 등을 자동으로 감지해 활성화함

<br>

## 사용 예제

#### Java 설정

```java
@Configuration
@EnableWebMvc
public class WebConfig {
    // 여기서 WebMvcConfigurer를 구현하여 추가 설정 가능
}
```

<br>

#### XML 설정 예

```xml
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
         http://www.springframework.org/schema/beans
         https://www.springframework.org/schema/beans/spring-beans.xsd
         http://www.springframework.org/schema/mvc
         https://www.springframework.org/schema/mvc/spring-mvc.xsd">

    <mvc:annotation-driven/>
    <!-- 기타 빈 설정 등 -->
</beans>
```


<br>

## 동작 원리 및 효과

- `@EnableWebMvc`를 선언하면 Spring이 내부적으로 MVC 관련 여러 기본 인프라 빈들을 등록
  - 컨트롤러 리졸버
  - 메시지 변환기유효성 검사 지원, 변환기 자동 검색 등
  - 예외 처리, 응답 바디 처리 등 관련 구성들
- XML 설정의 `<mvc:annotation-driven>`은 위와 동일한 역할을 함
- 즉, 이 설정이 없으면 `@Controller`/`@RequestMapping` 기반의 MVC 기능이 정상 동작하지 않을 수 있음

<br>

## Spring Boot와의 차이점 및 주의사항

- Spring Boot를 사용하는 경우, `@EnableWebMvc`를 직접 사용하면 Spring Boot의 자동 구성이 비활성화될 수 있음
- 즉, Spring Boot 환경에서는 기본적으로 MVC 설정이 활성화되어 있으며, 개발자가 `@EnableWebMvc`를 추가하면 Boot가 제공하는 여러 편의 기능들이 무시될 수 있음
- 따라서 Boot 환경에서는 `@EnableWebMvc` 없이 `WebMvcConfigurer`로 확장만 하는 방식이 일반적