---
layout: post
title: Path Matching
date: 2025-10-20 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, MVC config]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- 요청 URL이 컨트롤러의 핸들러 메서드에 매핑되는 과정에서 경로 매핑은 매우 중요한 역할을 함
- Spring MVC에서는 `@RequestMapping` 등에 지정된 경로 패턴이 들어오는 요청 경로와 비교되어 핸들러가 선택됨
- 문서는 이 매칭 방식을 커스터마이즈할 수 있는 `PathMatchConfgurer` 설정을 설명하고 있음
- 특히 Spring 5 이상에서는 더 효율적이고 안전한 매칭 방식인 `PathPatternParser` 기반 매칭이 기본적으로 지원

![alt text](../../assets/img/spring/spring_119_01.png)


<br>

## 주요 설정 옵션

> `WebMvcConfigurer` 인터페이스를 구현하여 `configurePathMatch` 메서드를 활용하면 여러 경로 매칭 옵션을 조정할 수 있음

```java
@Configuration
public class WebConfiguration implements WebMvcConfigurer {
    @Override
    public void configurePathMatch(PathMatchConfigurer configurer) {
        // 예: 모든 @RestController 타입 핸들러에 /api 접두사 자동 추가
        configurer.addPathPrefix("/api", 
            HandlerTypePredicate.forAnnotation(RestController.class));
        
        // 추가 설정 가능 (예: patternParser 지정)
        // configurer.setPatternParser(pathPatternParser());
    }

    private PathPatternParser pathPatternParser() {
        PathPatternParser parser = new PathPatternParser();
        // 커스터마이즈 가능
        return parser;
    }
}
```


```xml
<mvc:annotation-driven>
    <mvc:path-matching
        path-helper="pathHelper"
        path-matcher="pathMatcher"/>
</mvc:annotation-driven>

<bean id="pathHelper" class="com.example.app.MyPathHelper"/>
<bean id="pathMatcher" class="com.example.app.MyPathMatcher"/>
```