---
layout: post
title: Sending Messsages
date: 2025-10-23 09:00:00 +09:00
categories: [Spring, Servlet Stack, Web MVC, WebSockets, STOMP]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---


## 개요

- STOMP over WebSocket 환경에서, 클라이언트가 보낸 메시지뿐 아니라 어플리케이션의 임의의 위치에서도 연결된 클라이언트로 메시지를 보낼 필요가 있음
- 이러한 서버 ➡️ 클라이언트 메시징을 어떻게 구현할 수 있는지 설명할 예정
- 핵심 방법 `SimpMessagingTemplate`를 주입받아 사용하며, 이 객체를 통해 목적지로 메시지를 전송할 수 있음

<br>

## 사용 방법 및 코드 예제

```java
@Controller
public class GreetingController {
    
    private final SimpMessagingTemplate template;

    @Autowired
    public GreetingController(SimpMessagingTemplate template) {
        this.template = template;
    }

    @RequestMapping(path="/greeting", method=POST)
    public void greet(String greeting) {
        String text = "[" + getTimestamp() + "] " + greeting;
        this.template.convertAndSend("/topic/greetings", text);
    }
}
```