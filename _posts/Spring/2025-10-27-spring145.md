---
layout: post
title: Overview
date: 2025-10-27 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- Spring의 기존 웹 프레임워크인 Spring MVC는 서블릿 기반이며, 요청 하나당 스레드 하나를 할당하는 방식이 일반적
- WebFlux는 완전 비동기/논블로킹 웹 스택으로 적은 수의 스레드로 높은 동시성을 처리하고자 도입
- 또한 함수형 스타일 API를 지원하으로써 개발 모델을 다양화함

<br>

## 리액티브란?

- 네트워크 I/O, UI 이벤트 등 변화에 반응하여 처리하는 모델을 말함
- 특히 논블로킹 방식에서 중요한 것은 백프레셔 - 프로듀서가 너무 빨리 데이터를 생산하면 소비자가 감당할 수 있어야 한단느 개념

<br>

##  핵심 API 및 라이브러리

- WebFlux는 내부적으로 Project Reactor를 채택하며, `Mono<T>` 및 `Flux<T>` API를 제공
- 또한 다른 리액티브 라이브러리와도 상호운용이 가능하도록 설계되어 있음

<br>

## 프로그래밍 모델

- **어노테이션 기반**: Spring MVC와 유사한 방식으로 `@RestController`, `@RequestMapping` 등을 사용하되, 리액티브 타입을 리턴할 수 있음
- **함수형 엔드포인트**: 라우팅과 핸들러를 람다/함수형으로 구성하는 방식으로, 보다 경량화되고 컨트롤이 큰 스타일

<br>

## 적용 조건 및 고려사항

- WebFlux가 적합한 경우: 높은 동시성, I/O 지연이 많은 환경, 네트워크 호출이 많거나 스트리밍 처리 등이 있는 경우
- 반면, 기존 어플리케이션이 대부분 블로킹 JDBC/JPA, 즉 동기 호출 위주라면 Spring MVC가 더 적합할 수 있다는 설명이 나옴
- 서버 런타임 측명: WebFlux는 Netty, Undertow, Servlet 3.1+ 컨테이너 등 다양한 런타임을 지원하며, 기본적으로 작은 수의 스레드 기반

<br>

## 동시성 모델 & 성능 관점

- Spring MVC 방식은 요청당 스레드 하나라는 전통적 모델이며, 블로킹 호출을 수용하기 위해 스레드 풀 규모가 커지는 경향이 있음
- WebFlux 방식은 작은 수의 스레드로 많은 요청을 처리하는 이벤트 루프 방식이며, 블로킹 호출을 피해야 더 큰 이점이 있음
- 성능 향상이 자동으로 되지는 않으며, 지연이 I/O 병목이 있는 환경에서 특히 이점이 나타난다는 경고가 있음