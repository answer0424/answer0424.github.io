---
layout: post
title: Dispatcher Handler
date: 2025-10-27 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요 

- Spring WebFlux는 프런트 컨트롤러 패턴을 사용하며, Servlet 기반의 DispatcherServlet과 유사한 역할을 DispatcherHandler가 담당
- DispatcherHandler는 `WebHandler` 인터페이스를 구현하는 중앙 처리기이며, 요청이 들어오면 내부의 다양한 구성요소로 위임하여 처리를 수행
- Spring 빈으로 등록될 수 있고 `ApplicationContextAware`를 구현하여 자신이 동작하는 컨텍스트를 참조할 수 있음
- 기본적으로 Spring WebFlux 어플리케이션 설정에는 다음과 같은 구성 요소들이 포함됨
  - DispatcherHandler
  - WebFilter/WebExceptionHandler
  - DispatcherHandler가 참조하는 특수 빈들

<br>

## 중요 구성요소 및 처리 흐름

#### 주요 특수 빈들

| Bean 타입 | 역할 |
|-|-|
| `HandlerMapping` | 특정 요청을 적절한 핸들러 객체로 매핑. 예컨대 어노테이션 기반 컨트롤러의 경우 `RequestMappingHandlerMapping`이 사용됨 |
| `HandlerAdapter` | 매핑된 핸들러를 실제로 호출하는 책임이 있음 | DispatcherHandler가 핸들러의 종류를 알 필요 없이 호출 가능하게 함 |\
| `HandlerResultHandler` | 핸들러 호출 결과를 받아 적절하ㅏ게 응답을 작성하거나 뷰를 렌더링하는 역할을 함 |

<br>

#### 요청 처리 흐름 요약

1. 모든 등록된 `HandlerMapping`에 요청을 넘겨 매칭되는 핸들러를 찾음
2. 핸들러가 발견되면 `HandlerAdapter`가 해당 핸들러를 실행하고, 결과를 `HandlerResult` 객체로 래핑