---
layout: post
title: RequestParam
date: 2025-11-07 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux, Annotated Controllers]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- `@RequestParam` 어노테이션을 사용하면 쿼리파라미터를 메서드 인자로 바인딩할 수 있음
- WebFlux 환경에서는 이 어노테이션이 쿼리파라미터만 바인딩한다는 점이 강조
- 기본적으로 `@RequestParam`이 붙은 인자는 필수로 간주되며, 파라미터가 없으면 예외가 발생할 수 있음
  - 이 동작은 `required=false` 또는 `java.util.Optional<T>` 타입을 사용해서 선택적으로 바꿀 수 있음

<br>

```java
@RestController
@RequestMapping("/pets")
public class PetController {

    @GetMapping
    public Mono<String> getPetById(@RequestParam("petId") int petId) {
        // petId 쿼리 파라미터가 필수로 요구됨
        return petService.findNameById(petId)
                         .map(name -> "Pet name: " + name);
    }

    @GetMapping("/optional")
    public Mono<String> optionalParam(@RequestParam(value = "filter", required = false) String filter) {
        if (filter == null) {
            return Mono.just("No filter");
        }
        return petService.findFiltered(filter)
                         .map(list -> "Filtered count: " + list.size());
    }
us    @GetMapping("/list")
    public Mono<String> listParam(@RequestParam("tags") List<String> tags) {
        return Mono.just("Tags: " + tags);
    }

    @GetMapping("/allParams")
    public Mono<String> allParams(@RequestParam MultiValueMap<String, String> params) {
        return Mono.just("Params: " + params.toString());
    }
}
```

<br>

## 주요 특징 및 동작

- `@RequestParam("name")` 형태로 쿼리 파라미터 이름을 지정
- `required=false` 설정 또는 `Optional<T>` 타입을 사용하면 해당 파라미터가 없어도 메서드가 호출될 수 있음
- 타입 변환이 자동으로 적용
  - 문자열이 아닌 타입으로 선언하면 Spring이 적절히 변환
- `@RequestParam`이 `Map<String, String>` 또는 `MultiValueMap<String, String>` 타입으로 선언되면, 모든 쿼리 파라미터가 해당 맵에 담김
- WebFlux에서는 폼 또는 multipart 데이터의 파라미터 바인딩에 대해서는 `@RequestParam`이 자동으로 지원되지 않는 경우가 있으며, `ServerWebExchange.getFormData()` 등을 사용해야 한다는 이슈가 존재

<br>

## 유의사항 및 팁

- 쿼리 파라미터가 전달되지 않을 경우 에러가 발생할 수 있으므로, 선택적 파라미터라면 `required=false` 또는 `Optional<T>` 타입을 활용하는 것이 좋음
- GET 방식 뿐 아니라 POST 방식에서도 쿼리 파라미터로 전달할 수 있지만, body 기반 JSON 데이터를 처리하ㅏ려면 `@RequestBody`를 사용하는 것이 적합