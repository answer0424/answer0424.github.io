---
layout: post
title: CookieValue
date: 2025-11-13 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux, Annotated Controllers]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- `@CookieValue` 어노테이션은 HTTP 요청에 포함된 쿠키 값 중 하나를 컨트롤러 메서드의 파라미터로 바인딩하는 데 사용됨
- 예컨데 요청 헤더에 `Cookie: JSESSIONID=XXXXXXXXX` 가 포함되어 있을 때 해당 쿠키의 값을 아래처럼 받을 수 있음

<br>

## 예제

```java
@GetMapping("/demo")
public void handle(@CookieValue("JSESSIONID") String cookie) {
    // cookie 변수에 "415A4AC178C59DACE0B2C9CA727CDD84" 등이 담깁니다.
}
``` :contentReference[oaicite:3]{index=3}  

```

<br>

## 사용법 및 주요 속성

- `CookieValue("cookieName") T param` 형태로 사용함
- 타입 변환이 자동으로 적용됨. 즉, 만약 파라미터 타입이 `int`, `long`, `List<String>` 등이라면 `Spring`이 문자열 값을 해당 타입으로 변환해 줌
- 추가 속성의 예:
  - `required`: 해당 쿠키가ㅏ 요청에 반드시 존재해야 하는 경우
  - `defaultValue`: 쿠키가 존재하지 않을 때 사용할 기본값 지정, 해당 속성을 지정하면 `required=false` 효과가 적용됨
- 모든 쿠키 값을 한꺼번에 받고 싶다면 `Map<String, String>` 혹은 `MultiValueMap<String, String>` 타입의 파라미터에 `@CookieValue`만 붙여 받을 수 있음

<br>

## 유의사항 및 팁

- `required=false`인 상태에서 요청에 해당 쿠키가 없으면 `MissingRequestCookieException` 예외가 발생할 수 있음
  - 따라서 쿠키가 선택적인 경우라면 `required=false` 또는 `defaultValue` 지정이 좋음
- 쿠키 값이 여러 값이라면 리스트나 배열 타입으로 받을 수 있으나, 이 경우 별도 처리가 필요하며 일반 문자열로 받을 경우 여러 값이 합쳐지거나 하나만 전달되는 등 주의해야 함
- `@CookieValue` 파라미터는 다른 어노테이션 기반 바인딩(`@RequestParam`, `@PathVariable`, `@RequestHeader` 등)과 마찬가지로 컨트롤러 메서드 선언 시 사용되며, 가독성과 유지보수를 위해 쿠키 이름, 기본값, 타입 등을 명시적으로 기재하는 것이 좋음
- Spring WebFlux 환경에서도 유사하게 `@CookieValue`를 사용할 수 있음