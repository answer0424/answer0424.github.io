---
layout: post
title: Flash Atttributes
date: 2025-11-17 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux, Annotated Controllers]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- 플래시 속성은 한 요청에서 저장된 데이터를 다음 요청에서만 사용하는 기능
- 주로 리다이렉트 시나리오, 즉 POST ➡️ Redirect ➡️ Get 패턴에서 사용됨
- 동작 방식:
  1. 리다이렉트 이전 요청에서 플래시 속성을 저장
  2. 리다이렉트 이후의 요청에서 이속성을 모델에 자동 추가
  3. 속성 사용 후 즉시 제거됨 ➡️ 일회성 데이터 전달 용도에 적합
- FlashMap - 플래시 속성 저장소 객체, "FlashMapManager"` - 이 저장소를 관리하는 역할이란 추상화가 제공됨
- 플래시 속성 기능은 별도의 설정 없이 항상 활성화되어 있으며, 사용하지 않을 경우 세션 생성도 하지 않음

<br>

## 사용법 및 예제


```java
@Controller
public class UploadController {

    @PostMapping("/upload")
    public String handleUpload(RedirectAttributes redirectAttributes) {
        // 파일 업로드 처리 로직 …
        redirectAttributes.addFlashAttribute("message", "파일 업로드 성공!");
        return "redirect:/uploadStatus";
    }

    @GetMapping("/uploadStatus")
    public String uploadStatus(Model model) {
        // 리다이렉트 이후 요청에서 "message" 플래시 속성이 모델에 자동 추가됨
        if (model.containsAttribute("message")) {
            String msg = (String) model.getAttribute("message");
            // 메시지 활용 …
        }
        return "uploadStatusView";
    }
}
```

- `redirectAttributes.addFlashAttribute("message", "...")` ➡️ 리다이렉트 이후 요청에서 사용 가능한 플래시 속성 저장
- 이후 `/uploadStatus` GET 요청 시 모델에 `message`가 담겨 자동으로 노출됨
- 플래시 속성은 URL 쿼리 파라미터로 노출되지 않고 세션에 임시 저장됨