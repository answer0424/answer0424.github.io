---
layout: post
title: ResponseEntity
date: 2025-11-18 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux, Annotated Controllers, Handler Methods]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- `ResponseEntity<T>`는 HTTP 응답의 상태코드, 헤더, 본문을 모두 제어할 수 있게 해주는 Spring 타입임
- 즉, 단순히 반환 객체만 보내는 `@ResponseBody` 방식보다 더 세밀한 제어가 가능하며, REST API 응답 설계 시 유용함
- Spring MVC뿐 아니라, 리액티브 스택에서도 `ResponseEntity` 반환을 지원하며, 이 경우 비동기 타입과 함께 사용할 수 있다는 특징이 있음

<hr>

## 사용법 및 예제 코드

#### Java 예제

```java
@RestController
@RequestMapping("/api/accounts")
public class AccountController {

    @GetMapping("/{id}")
    public ResponseEntity<Account> getAccount(@PathVariable Long id) {
        Optional<Account> opt = accountService.findById(id);
        if (opt.isEmpty()) {
            return ResponseEntity.notFound().build();           // 상태 404
        }
        Account account = opt.get();
        return ResponseEntity
                 .ok()                                             // 상태 200
                 .header("X-Account-Version", account.getVersion().toString())   // 헤더 추가
                 .body(account);                                   // 본문 설정
    }

    @PostMapping
    public ResponseEntity<Void> createAccount(@RequestBody Account account) {
        Long newId = accountService.create(account);
        URI location = URI.create("/api/accounts/" + newId);
        return ResponseEntity
                 .created(location)                               // 상태 201 + Location 헤더
                 .build();
    }
}
```

- `ResponseEntity.ok().body(..)`: HTTP 200 상태
- `ResponseEntity.created(location).build()`: HTTP 201 + `Location` 헤더
- `notFound().build()`: HTTP 404 상태
- 헤더 값도 `.header(...)` 또는 `.headers(...)` 메서드로 추가 가능

<hr>

