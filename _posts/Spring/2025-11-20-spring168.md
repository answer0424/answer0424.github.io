---
layout: post
title: Controller Advice
date: 2025-11-20 09:00:00 +09:00
categories: [Spring, Reactive Stack, WebFlux, Annotated Controllers]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- `@ControllerAdvice`는 여러 컨트롤러레 적용 가능한 공통 처리 메서드를 정의할 수 있게 해주는 어노테이션임
- `@RestControllerAdvice`는 `@ControllerAdvice`와 `@ResponseBody`가 결합된 형태로 JSON/문자열 형태의 응답을 반환하는 전역 처리기를 만들 때 사용됨
- 기본적으로 `@ControllerAdvice` 클래스에 선언된 `@ExceptionHandler`, `@InitBinder`, `@ModelAttribute` 메서드들은 모든 컨트롤러에 적용됨

<hr>

## 주요 기능 및 특징

#### 적용 대상

- `@ControllerAdvice`에서 별도의 지정이 없다면 어플리케이션 내 모든 컨트롤러 클래스에 적용됨
- 적용 대상을 제한할 수 있는 속성이 존재함
  - `annotations = RestController.class`처럼 특정 어노테이션이 붙은 컨트롤러만 적용
  - 패키지명으로 특정 패키지 이하 컨트롤러만 적용
  - `assignableTypes = {SomeController.class}`처럼 특정 클래스 타입을 기준으로 적용
- 선택 조건을 많이 사용하면 런타임 성능에 영향이 있을 수 있음 

<br>

#### 처리 우선순위

- 컨트롤러 내부에 정의된 `@ExceptionHandler, `@InitBinder`, `@ModelAttribute` 메서드가 우선 적용됨
  - 그 다음 `@ControllerAdvice`에 정의된 전역 처리기가 적용됨
- 다만 `@ModelAttribute` 및 `@InitBinder` 메서드의 경우, 전역 메서드(`@ControllerAdvice`) 메서드가 먼저 실행되고 그 뒤에 컨트롤러 내부 메서드가 실행된다는 특징이 있음

<br>

#### 적용 가능한 메서드 유형

- `@ExceptionHandler`: 예외 발생 시 공통 처리 로직 정의 가능
- `@InitBinder`: 데이터 바인딩/타입 변환 등 초기화 작업을 전역 수준에서 처리 가능
- `@ModelAttribute`: 모든 요청에 대해 공통으로 모델 속성을 추가할 때 사용 가능
- 이러한 메서드들을 `@ControllerAdvice` 클래스 안에 정의하면 여러 컨트롤러에서 중복 코드 없이 처리 가능
- 