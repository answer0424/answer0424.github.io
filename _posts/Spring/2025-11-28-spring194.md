---
layout: post
title: Context configuration with Groovy scripts
date: 2025-11-28 09:00:00 +09:00
categories: [Spring, Testing, TestContext Framework, Context Management]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- Spring TestContext Framework는 Groovy DSL을 사용한 설정 스크립트를 이용해 `ApplicationContext`를 구성할 수 있는 기능을 제공
- 즉, XML 설정이나 자바 설정 클래스 대신 Groovy의 Bean Definition DSL을 통해 빈 정의를 작성하고 테스트 컨텍스트 로딩에 활용할 수 있음
- 단, 이 기능은 클래스패스에 Groovy가 있어야 자동 활성화됨 만약 Groovy가 없다면 이 로더는 동작하지 않음 

<hr>

## 설정 방법 및 사용 예시

#### 1. 테스트 클래스에 설정하기

```java
@ExtendWith(SpringExtension.class)
@ContextConfiguration({ "/AppConfig.groovy", "/TestConfig.groovy" })
public class MyTest {

}
```


- 위 예시는 클래스패스 루트에 있는 `AppConfig.groovy`, `TestConfig.groovy` 파일을 이용해 `ApplicationContext`를 로드하는 설정

<br>

#### 2. 기본 위치 자동 감지

- `@ContextConfiguration`에 `locations` 또는 `value`를 지정하지 않으면 Spring TestContext는 기본 로더를 사용해 자동으로 Groovy 스크립트 위치를 유추하려 시도함

```bash
classpath:com/example/MyTestContext.groovy
```


