---
layout: post
title: Dependency Injection of Test
date: 2025-12-03 09:00:00 +09:00
categories: [Spring, Testing, TestContext Framework]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 주입 방식 & 조건

| 주입 방식 | 설명 / 주의점 |
|-|-|
| 필드 주입 | 테스트 클래스 내부에 `@Autowired` 또는 `@Inject` 붙인 필드 선언 - 가장 흔한 방식 |
| Setter 주입 | 필드 대신 setter 메서드에 어노테이션 붙여 주입 가능 DI 방식에 맞게 설계할 때 사용 |
| 생성자 주입 | JUint Jupiter + SpringExtension 조합일 때 가능 |
| 명시적 빈 조회 | 만약 타입이 중복되거나 어떤 빈을 DI로 주입받기 어려울 경우 테스트 내에서 직접 `applicationContext.getBean(...)` 호출 가능 |

<hr>

## 장점

- 픽스처 설정 반복 제거: 테스트마다 복잡한 객체 생성 대신, Spring 설정에 정의된 빈을 재사용 - 설정 중복 방지
- IoC 컨테이너 + DI의 이점 활용: 서비스, 리포지토리, DataSource, 트랜잭션 매니저 등 복잡한 의존성이 얽힌 객체들도 설정만 해두면 테스트 클래스에서는 단순히 `@Autowired`만으로 주입 가능
- 테스트 코드 간 결합도 낮춤: 테스트 클래스와 빈 구성을 분리 - production config나 테스트 config를 재사용하면서 테스트 작성 가능
- 통합 테스트 편의성: 특히 데이터베이스 , JPA, DAO/Repository, 서비스 계층의 통합 동작을 테스트할 때 유용