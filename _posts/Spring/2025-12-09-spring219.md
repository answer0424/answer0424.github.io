---
layout: post
title: Setup options
date: 2025-12-09 09:00:00 +09:00
categories: [Spring, Testing, TestContext Framework, MockMvc]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## MockMvc 설정 방식

| 방식 | 설명 |
|-|-|
| WebApplicationContext 기반 | 실제 스프링 MVC 설정, 빈, 컨트롤러, 필터, 인터셉터 등 전체 컨텍스트를 로드 ➡️ 실제 어플리케이션 환경에 가까운 통합-레벨 테스트 가능 |
| standalone | 테스트할 컨트롤러만 지정하고, 필요한 의존성을 직접 mock / stub / 수동 주입 ➡️ 경량, 단일 컨트롤러 중심의 단위 테스트/슬라이스 테스트에 적합 |

<hr>

## 선택 가이드

#### WebApplicationContext 기반 - 통합 / 웹 레이어 전체 테스트

- 실제 프로젝트의 Spring MVC 설정을 그대로 로드하고 싶을 때
- 컨트롤러 + 빈 의존성 + Spring 설정이 복합적으로 얽혀 있는 흐름을 통합 테스트하고자 할 때
- 여러 컨트롤러에 대한 공통 설정을 유지하면서 반복 테스트를 수행하고 싶을 때
- 실제 운영 환경과 유사하게 요청 ➡️ DispatcherServlet ➡️ 핸들러 ➡️ 리턴 ➡️ 응답변화 + 예외처리 + 필터/인터셉터 흐름 전반을 검증하고 싶을 때

> 장점: 실제 설정을 거의 그대로 반영 ➡️ 안정성/신뢰성 높음, 캐시 덕분에 여러 테스트 돌려도 속도 괜찮음
>
> 단점: 설정 로딩 오버헤드 + 테스트 환경이 조금 무거움

