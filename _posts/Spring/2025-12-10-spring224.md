---
layout: post
title: Defining Expectations
date: 2025-12-10 09:00:00 +09:00
categories: [Spring, Testing, TestContext Framework, MockMvc, Hamcrest]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- MockMvc로 요청을 보낸 후, 응답 또는 처리 결과에 대해 기대하는 조건을 정의하고 검증하는 방법을 설명
- 즉, 테스트 흐름이 요청 보내기 ➡️ 응답 또는 처리결과 ➡️ 검증으로 이어지도록 해주는 기능

<hr>

## 기본 사용법: `andExpect()` / `andExpectAll()`

#### `andExpect()` 메서드

- 요청 후 `.andExpect()`를 하나 붙이면 그 조건을 검증

```java
mockMvc.perform(get("/account/1"))
        .andExpect(status().isOk())
```

<br>

#### `andExpectAll()` 메서드 

- 여러 기대 조선들을 한번에 넘기고 모두 검증하고 싶다면 `.andExpectAll()`을 사용
- 이 경우에 supplied한 모든 expectations가 적용되고 실패한 것들을 모두 보고됨

```java
mockMvc.perform(get("/account/1"))
        .andExpectAll(
            status().isOk(),
            content().contentType("application/json; charset=UTF-8")
        )
```