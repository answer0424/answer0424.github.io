---
layout: post
title: Configuring MockMvcTest
date: 2025-12-10 09:00:00 +09:00
categories: [Spring, Testing, TestContext Framework, MockMvc, AssertJ]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---


## 개요

- MockMvc는 기본적으로 Hamcrest 기반의 매처 API로 요청 ➡️ 응답 테스트를 지원
- 하지만 Spring Framework 6.2부터는 MockMvc 결과를 더 현대적이고 읽기 쉬운 assertion 스타일로 검증하고자, MockMvc 위에 AssertJ 지원을 덧붙인 MockMvcTester를 제공
- MockMvcTester 덕분에 static import 없이, 예외 처리 선언 없이, fluent API + AssertJ assertion 스타일로 테스트 작성 가능

<hr>

## MockMvcTester 설정 방법

#### 특정 Controller 만을 테스트 - Standalone 방식

```java
private final MockMvcTester MockMvc = MovkMvcTester.of(new AccountController());
```

> 이 방식은 Spring 컨텍스트 전체를 로드하지 않고, 특정 컨트롤러만 독립적으로 테스트할 때 유용

<br>

#### Spring 설정 / WebApplicationContext 기반 - 통합된 MVC 설정 방식

```java
@SpringJUnitWebConfig(ApplicationConfig.class)
class AccountControllerIntegrationTests {
    private final MockMvcTester mockMvc;

    AccountControllerIntegrationTests(@Autowired WebApplicationContext wac) {
        this.mockMvc = MockMvcTester.from(wac);
    }
}
```

> 필요시 JSON 직렬화/역직렬화를 위해 HTTP 메시지 컨버터를 수동으로 등록할 수 있음