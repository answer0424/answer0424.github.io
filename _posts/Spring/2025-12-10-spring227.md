---
layout: post
title: Performing Requests
date: 2025-12-10 09:00:00 +09:00
categories: [Spring, Testing, TestContext Framework, MockMvc, AssertJ]
tags: [spring]
image:
    path: /assets/img/spring/Spring.png
---

## 개요

- MockMvcTester를 이용해 요청을 구성하고 전송하는 방법을 설명
- 기존의 MockMvc + Hamcrest 방식과 달리 AssertJ 스타일의 fluent API를 사용하므로 정적 static import 없이도 요청 빌드 + 검증이 가능
- 즉, 요청 생성 ➡️ 실행 ➡️ 응답 / 결과 흐름을 AssertJ 기반으로 간결하고 직관적으로 작성 가능

<hr>

## MockMvcTester로 요청 수행하기

- `get()`, `post()`, `put()`, `delete()` 등 HTTP 메서드별 빌더 메서드를 사용해 요청을 생성

<hr>

## 요청 구성: URI/파라미터/멀티파드/컨텍스트 경로

- URI 템플릿 + Path 변수

```java
mockMvc.post().uri("/hotels/{id}", 42).accept(MediaType.APPLICATION_JSON)
```

- 쿼리 파라미터 via URI 템플릿

```java
mockMvc.get().uri("/hotels?thing={thing}", "somewhere")
```

- Servlet request parameter

```java
mockMvc.get().uri("/hotels").param("thing", "somewhere")
```

- 멀티파트 파일 업로드

```java
mockMvc.post().uri("/upload").multipart()
        .file("file1.txt", "Hello".getBytes(StandardCharsets.UTF_8))
        .file("file2.txt", "World".getBytes(StandardCharsets.UTF_8))
```